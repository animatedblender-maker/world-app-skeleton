import{a as ee,b as te}from"./chunk-TS562GOK.js";import{a as Q}from"./chunk-XEM7RPTP.js";import{a as G,b as H,e as J,l as $,m as K}from"./chunk-OOQ5NGO6.js";import{b as W}from"./chunk-Y72RG6DO.js";import"./chunk-NOJK5XQQ.js";import{$ as d,A as S,B as r,Ba as Z,E as x,F,J as _,N as c,O as s,P as o,Q as P,T as I,U as T,V as v,W as g,X as l,Y as z,Z as k,_ as O,aa as h,ba as u,da as b,ea as y,fa as E,ga as D,ka as L,ma as q,p as f,q as m,qa as Y,r as N,u as B,ua as X,wa as R,ya as j}from"./chunk-XHC7PKXJ.js";function ae(i,t){if(i&1&&P(0,"img",27),i&2){let e=l(2);k("transform",e.avatarTransform),c("src",e.avatarImage,S)}}function se(i,t){if(i&1&&(s(0,"div",28),d(1),o()),i&2){let e=l(2);r(),h(e.initials)}}function le(i,t){if(i&1){let e=v();s(0,"button",29),g("click",function(n){f(e);let p=l(2);return m(p.toggleAvatarEditor(n))}),d(1),o()}if(i&2){let e=l(2);r(),u(" ",e.editingAvatar?"Close avatar editor":"Edit avatar"," ")}}function ce(i,t){if(i&1){let e=v();s(0,"button",38),g("click",function(){f(e);let n=l(3);return m(n.startNameEdit())}),d(1,"Refine name"),o()}}function de(i,t){i&1&&(I(0),d(1," Edit profile "),T())}function pe(i,t){i&1&&(s(0,"span"),d(1,"Save"),o())}function fe(i,t){i&1&&(s(0,"span",41)(1,"span",42),d(2,"\u2713"),o(),s(3,"span",43),d(4,"\u2197"),o(),d(5," Saved "),o())}function me(i,t){if(i&1&&(I(0),_(1,pe,2,0,"span",23)(2,fe,6,0,"span",40),T()),i&2){let e=l(4);r(),c("ngIf",!e.profileEditSaved),r(),c("ngIf",e.profileEditSaved)}}function ge(i,t){if(i&1){let e=v();s(0,"button",39),g("click",function(){f(e);let n=l(3);return m(n.onProfileEditAction())}),_(1,de,2,0,"ng-container",23)(2,me,3,2,"ng-container",23),o()}if(i&2){let e=l(3);c("disabled",e.profileEditSaving),r(),c("ngIf",!e.profileEditMode),r(),c("ngIf",e.profileEditMode)}}function _e(i,t){if(i&1){let e=v();s(0,"div",30)(1,"div",31),d(2),o(),s(3,"div",32),_(4,ce,2,0,"button",33)(5,ge,3,3,"button",34),o(),s(6,"button",35),g("click",function(){f(e);let n=l(2);return m(n.copyShareLink())}),N(),s(7,"svg",36),P(8,"path",37),o()()()}if(i&2){let e=l(2);r(2),h(e.profile.display_name||e.profile.username||"User"),r(2),c("ngIf",e.isOwner&&e.profileEditMode),r(),c("ngIf",e.isOwner),r(),c("disabled",!e.shareUrl)}}function ve(i,t){if(i&1&&(s(0,"div",44),d(1),o()),i&2){let e=l(2);O("error",!!e.shareError),r(),u(" ",e.shareError||(e.shareCopied?"Link copied":"")," ")}}function ue(i,t){if(i&1){let e=v();s(0,"div",45)(1,"input",46),E("ngModelChange",function(n){f(e);let p=l(2);return y(p.draftDisplayName,n)||(p.draftDisplayName=n),m(n)}),o(),s(2,"div",47)(3,"button",48),g("click",function(){f(e);let n=l(2);return m(n.saveDisplayName())}),d(4),o(),s(5,"button",49),g("click",function(){f(e);let n=l(2);return m(n.cancelNameEdit())}),d(6,"Cancel"),o()()()}if(i&2){let e=l(2);r(),b("ngModel",e.draftDisplayName),r(2),c("disabled",e.nameSaving),r(),u(" ",e.nameSaving?"Saving\u2026":"Save"," ")}}function xe(i,t){if(i&1){let e=v();s(0,"button",38),g("click",function(){f(e);let n=l(3);return m(n.startUsernameEdit())}),d(1),o()}if(i&2){let e=l(3);r(),u(" ",e.profile.username?"Edit handle":"Set handle"," ")}}function he(i,t){if(i&1&&(s(0,"div",50)(1,"div",51),d(2),o(),_(3,xe,2,1,"button",33),o()),i&2){let e=l(2);r(2),u(" @",e.profile.username||"username pending"," "),r(),c("ngIf",e.isOwner&&e.profileEditMode)}}function we(i,t){i&1&&(s(0,"span"),d(1,"Loading"),o())}function Pe(i,t){if(i&1&&(I(0),d(1),T()),i&2){let e=l(4);r(),u(" ",e.viewerFollowing?"Following":"Follow"," ")}}function Ce(i,t){if(i&1&&(s(0,"small",60),d(1),o()),i&2){let e=l(4);r(),h(e.followError)}}function be(i,t){if(i&1){let e=v();s(0,"div",57)(1,"button",58),g("click",function(){f(e);let n=l(3);return m(n.toggleFollow())}),_(2,we,2,0,"span",23)(3,Pe,2,1,"ng-container",23),o(),_(4,Ce,2,1,"small",59),o()}if(i&2){let e=l(3);r(),O("following",e.viewerFollowing),c("disabled",e.followBusy||e.followMetaLoading),r(),c("ngIf",e.followMetaLoading&&!e.viewerFollowing),r(),c("ngIf",!e.followMetaLoading||e.viewerFollowing),r(),c("ngIf",e.followError)}}function ye(i,t){if(i&1&&(s(0,"div",52)(1,"div",53)(2,"div",54),d(3),o(),s(4,"div",55),d(5,"Followers"),o()(),s(6,"div",53)(7,"div",54),d(8),o(),s(9,"div",55),d(10,"Following"),o()(),_(11,be,5,6,"div",56),o()),i&2){let e=l(2);r(3),u(" ",e.followMetaLoading&&e.followersCount===null?"\u2026":e.followersCount??"\u2014"," "),r(5),u(" ",e.followMetaLoading&&e.followingCount===null?"\u2026":e.followingCount??"\u2014"," "),r(3),c("ngIf",!e.isOwner)}}function Ee(i,t){if(i&1&&(s(0,"small",60),d(1),o()),i&2){let e=l(3);r(),h(e.usernameError)}}function Me(i,t){if(i&1){let e=v();s(0,"div",45)(1,"input",61),E("ngModelChange",function(n){f(e);let p=l(2);return y(p.draftUsername,n)||(p.draftUsername=n),m(n)}),g("ngModelChange",function(){f(e);let n=l(2);return m(n.onUsernameDraftChange())}),o(),s(2,"small",62),d(3," Use 3-24 letters, numbers, dots, or underscores. No spaces. "),o(),s(4,"div",47)(5,"button",48),g("click",function(){f(e);let n=l(2);return m(n.saveUsername())}),d(6),o(),s(7,"button",49),g("click",function(){f(e);let n=l(2);return m(n.cancelUsernameEdit())}),d(8,"Cancel"),o(),_(9,Ee,2,1,"small",59),o()()}if(i&2){let e=l(2);r(),b("ngModel",e.draftUsername),r(4),c("disabled",e.usernameSaving),r(),u(" ",e.usernameSaving?"Saving...":"Save handle"," "),r(3),c("ngIf",e.usernameError)}}function Se(i,t){if(i&1&&(s(0,"span"),d(1),o()),i&2){let e=l(2);r(),h(e.profile.country_name)}}function Ie(i,t){if(i&1&&(s(0,"span"),d(1),o()),i&2){let e=l(2);r(),u("\u2022 ",e.profile.city_name)}}function Te(i,t){if(i&1){let e=v();s(0,"button",38),g("click",function(){f(e);let n=l(3);return m(n.startBioEdit())}),d(1,"Refine bio"),o()}}function Oe(i,t){if(i&1&&(s(0,"div",63)(1,"div"),d(2),o(),_(3,Te,2,0,"button",33),o()),i&2){let e=l(2);r(2),h(e.bio||"No bio yet."),r(),c("ngIf",e.isOwner&&e.profileEditMode)}}function ke(i,t){if(i&1){let e=v();s(0,"div",45)(1,"textarea",64),E("ngModelChange",function(n){f(e);let p=l(2);return y(p.draftBio,n)||(p.draftBio=n),m(n)}),o(),s(2,"div",47)(3,"button",48),g("click",function(){f(e);let n=l(2);return m(n.saveBio())}),d(4),o(),s(5,"button",49),g("click",function(){f(e);let n=l(2);return m(n.cancelBioEdit())}),d(6,"Cancel"),o()()()}if(i&2){let e=l(2);r(),b("ngModel",e.draftBio),r(2),c("disabled",e.bioSaving),r(),u(" ",e.bioSaving?"Saving\u2026":"Save bio"," ")}}function Ue(i,t){if(i&1&&P(0,"img",78),i&2){let e=l(3);c("src",e.avatarImage,S)}}function Ve(i,t){if(i&1&&(s(0,"div",79),d(1),o()),i&2){let e=l(3);r(),h(e.initials)}}function Ae(i,t){if(i&1){let e=v();s(0,"button",80),g("click",function(){f(e);let n=l(3);return m(n.profileComposerOpen=!1)}),d(1," Cancel "),o()}}function Ne(i,t){if(i&1){let e=v();s(0,"button",81),g("click",function(){f(e);let n=l(3);return m(n.profileComposerOpen=!0)}),d(1),o()}if(i&2){let e=l(3);r(),u(" What's new in ",e.profile.country_name,"? ")}}function Be(i,t){if(i&1){let e=v();I(0),s(1,"input",82),E("ngModelChange",function(n){f(e);let p=l(3);return y(p.postTitle,n)||(p.postTitle=n),m(n)}),o(),s(2,"textarea",83),E("ngModelChange",function(n){f(e);let p=l(3);return y(p.postBody,n)||(p.postBody=n),m(n)}),o(),T()}if(i&2){let e=l(3);r(),b("ngModel",e.postTitle),r(),c("placeholder",D("Tell ",e.profile.country_name," what's happening...")),b("ngModel",e.postBody)}}function Fe(i,t){if(i&1&&(s(0,"div",86),d(1),o()),i&2){let e=l(4);O("error",!!e.postError),r(),u(" ",e.postError||e.postFeedback," ")}}function ze(i,t){if(i&1){let e=v();s(0,"div",84)(1,"button",48),g("click",function(){f(e);let n=l(3);return m(n.submitProfilePost())}),d(2),o(),_(3,Fe,2,3,"div",85),o()}if(i&2){let e=l(3);r(),c("disabled",e.postBusy||!e.canPostFromProfile),r(),u(" ",e.postBusy?"Posting\u2026":"Post to "+e.profile.country_name," "),r(),c("ngIf",e.postError||e.postFeedback)}}function De(i,t){if(i&1&&(s(0,"div",65)(1,"div",66)(2,"div",67),_(3,Ue,1,1,"img",68)(4,Ve,2,1,"div",69),o(),s(5,"div",70)(6,"div",71)(7,"div")(8,"div",72),d(9),o(),s(10,"div",73),d(11),o()(),s(12,"div",74),_(13,Ae,2,0,"button",75),o()(),_(14,Ne,2,1,"button",76)(15,Be,3,4,"ng-container",23),o()(),_(16,ze,4,3,"div",77),o()),i&2){let e=l(2);r(3),c("ngIf",e.avatarImage),r(),c("ngIf",!e.avatarImage),r(5),u("Share with ",e.profile.country_name),r(2),u("Posts appear in ",e.profile.country_name,"'s live feed."),r(2),c("ngIf",e.profileComposerOpen),r(),c("ngIf",!e.profileComposerOpen),r(),c("ngIf",e.profileComposerOpen),r(),c("ngIf",e.profileComposerOpen)}}function Le(i,t){if(i&1){let e=v();s(0,"div",95),g("pointerdown",function(n){f(e);let p=l(3);return m(p.onAvatarDragStart(n))}),P(1,"img",96)(2,"span",14),o()}if(i&2){let e=l(3);O("adjusting",!0),r(),k("transform",e.draftAvatarTransform),c("src",e.draftAvatarUrl,S)}}function qe(i,t){i&1&&(s(0,"div",97),d(1,"Choose an image to begin."),o())}function Ye(i,t){if(i&1&&(s(0,"small",60),d(1),o()),i&2){let e=l(3);r(),h(e.avatarError)}}function Xe(i,t){if(i&1){let e=v();s(0,"div",87)(1,"div",88)(2,"div")(3,"div",89),d(4,"Avatar"),o(),s(5,"small"),d(6,"Upload a square image (PNG/JPG/WebP). Drag to position inside the circle."),o()(),s(7,"label",90),d(8," Choose image "),s(9,"input",91),g("change",function(n){f(e);let p=l(2);return m(p.onAvatar(n))}),o()()(),s(10,"div",92),_(11,Le,3,5,"div",93)(12,qe,2,0,"div",94),o(),s(13,"div",47)(14,"button",48),g("click",function(){f(e);let n=l(2);return m(n.saveAvatar())}),d(15),o(),s(16,"button",49),g("click",function(){f(e);let n=l(2);return m(n.cancelAvatarEdit())}),d(17,"Cancel"),o(),_(18,Ye,2,1,"small",59),o()()}if(i&2){let e=l(2);r(11),c("ngIf",e.draftAvatarUrl),r(),c("ngIf",!e.draftAvatarUrl),r(2),c("disabled",!e.draftAvatarUrl||e.avatarSaving),r(),u(" ",e.avatarSaving?"Saving\u2026":"Save avatar"," "),r(3),c("ngIf",e.avatarError)}}function Re(i,t){if(i&1){let e=v();s(0,"div",7)(1,"button",8),g("click",function(){f(e);let n=l();return m(n.goBack())}),d(2,"\u2190 BACK"),o(),s(3,"div",9)(4,"div",10),g("click",function(){f(e);let n=l();return m(n.openAvatarModal())}),s(5,"div",11),_(6,ae,1,3,"img",12)(7,se,2,1,"div",13),P(8,"span",14),o(),_(9,le,2,1,"button",15),o(),s(10,"div",16),_(11,_e,9,4,"div",17)(12,ve,2,3,"div",18)(13,ue,7,3,"div",19)(14,he,4,2,"div",20)(15,ye,12,3,"div",21)(16,Me,10,4,"div",19),s(17,"div",22),_(18,Se,2,1,"span",23)(19,Ie,2,1,"span",23),o(),_(20,Oe,4,2,"div",24)(21,ke,7,3,"div",19),o()(),_(22,De,17,8,"div",25)(23,Xe,19,5,"div",26),o()}if(i&2){let e=l();r(6),c("ngIf",e.avatarImage),r(),c("ngIf",!e.avatarImage),r(2),c("ngIf",e.isOwner&&e.profileEditMode),r(2),c("ngIf",!e.editingName),r(),c("ngIf",e.shareCopied||e.shareError),r(),c("ngIf",e.editingName),r(),c("ngIf",!e.editingUsername),r(),c("ngIf",e.profile),r(),c("ngIf",e.editingUsername),r(2),c("ngIf",e.profile.country_name),r(),c("ngIf",e.profile.city_name),r(),c("ngIf",!e.editingBio),r(),c("ngIf",e.editingBio),r(),c("ngIf",e.canPostFromProfile),r(),c("ngIf",e.editingAvatar)}}function je(i,t){i&1&&(s(0,"div"),d(1,"Loading profile\u2026"),o())}function Ze(i,t){if(i&1&&(s(0,"div"),d(1),o()),i&2){let e=l(2);r(),h(e.error||"Profile not found.")}}function We(i,t){if(i&1&&(s(0,"div",98),_(1,je,2,0,"div",23)(2,Ze,2,1,"div",23),o()),i&2){let e=l();r(),c("ngIf",e.loading),r(),c("ngIf",!e.loading)}}function Ge(i,t){if(i&1){let e=v();s(0,"div",99),g("click",function(){f(e);let n=l();return m(n.closeAvatarModal())}),s(1,"div",100),g("click",function(n){return f(e),m(n.stopPropagation())}),s(2,"div",101),P(3,"img",27)(4,"span",14),o(),s(5,"button",49),g("click",function(){f(e);let n=l();return m(n.closeAvatarModal())}),d(6,"Close"),o()()()}if(i&2){let e=l();r(3),k("transform",e.avatarModalTransform),c("src",e.avatarModalImage,S)}}var ie=class i{constructor(t,e,a,n,p,C,U,V,w){this.route=t;this.router=e;this.profiles=a;this.auth=n;this.media=p;this.posts=C;this.follows=U;this.zone=V;this.cdr=w}profile=null;loading=!1;error="";sub;shareUrl="";shareCopied=!1;shareError="";shareTimer=null;isOwner=!1;meId=null;followersCount=null;followingCount=null;followMetaLoading=!1;viewerFollowing=!1;followBusy=!1;followError="";followProfileId=null;postTitle="";postBody="";postBusy=!1;postError="";postFeedback="";profileComposerOpen=!1;avatarImage="";avatarNormX=0;avatarNormY=0;avatarModalOpen=!1;editingName=!1;nameSaving=!1;draftDisplayName="";editingUsername=!1;usernameSaving=!1;draftUsername="";usernameError="";editingBio=!1;bioSaving=!1;draftBio="";bio="";profileEditMode=!1;profileEditSaving=!1;profileEditSaved=!1;profileEditCloseTimer=null;editingAvatar=!1;avatarSaving=!1;avatarError="";draftAvatarUrl="";AVATAR_OUT_SIZE=512;EDIT_SIZE=180;EDIT_SCALE=1.25;USERNAME_PATTERN=/^[a-z0-9._]{3,24}$/;draftNormX=0;draftNormY=0;dragging=!1;startX=0;startY=0;basePxX=0;basePxY=0;pendingPxX=0;pendingPxY=0;raf=0;async ngOnInit(){let t=await this.auth.getUser();this.meId=t?.id??null,this.sub=this.route.paramMap.subscribe(e=>{let a=e.get("slug")??"";this.loadProfile(a)})}ngOnDestroy(){this.sub?.unsubscribe(),this.shareTimer&&clearTimeout(this.shareTimer),this.profileEditCloseTimer&&clearTimeout(this.profileEditCloseTimer)}get initials(){let e=(this.profile?.display_name||this.profile?.username||"U").trim().split(/\s+/).filter(Boolean),a=e[0]?.[0]??"U",n=e.length>1?e[e.length-1]?.[0]??"":"";return(a+n).toUpperCase()}get avatarTransform(){let t=this.maxOffset(110,1.2);return`translate3d(${this.avatarNormX*t}px, ${this.avatarNormY*t}px, 0)`}get draftAvatarTransform(){let t=this.maxOffset(this.EDIT_SIZE,this.EDIT_SCALE);return`translate3d(${this.draftNormX*t}px, ${this.draftNormY*t}px, 0)`}get avatarModalImage(){return this.draftAvatarUrl||this.avatarImage}get avatarModalTransform(){let t=this.maxOffset(180,1.2);return`translate3d(${this.avatarNormX*t}px, ${this.avatarNormY*t}px, 0)`}get canPostFromProfile(){if(!this.isOwner||!this.profile)return!1;let t=this.profile?.country_code,e=this.profile.country_name;return!!t&&!!e}async goHome(){await this.router.navigateByUrl("/")}async loadProfile(t){this.loading=!0,this.error="",this.profile=null,this.resetFollowState(),this.forceUi();try{let e=(t||"").trim();if(!e)throw new Error("Profile not found.");let a=e.startsWith("@")?e.slice(1):e,n=null;a&&(n=(await this.profiles.profileByUsername(a)).profileByUsername??null),n||(n=(await this.profiles.profileById(e)).profileById??null),n?this.applyProfile(n):this.error="Profile not found."}catch(e){this.error=e?.message??String(e)}finally{this.loading=!1,this.forceUi()}}applyProfile(t){this.profile=t,this.avatarImage=t?.avatar_url??"",this.bio=t?.bio??"",this.draftDisplayName=t.display_name??"",this.draftBio=this.bio??"",this.draftUsername=t.username??"",this.usernameError="",this.shareUrl=this.buildShareUrl(t),this.shareCopied=!1,this.shareError="",this.isOwner=!!this.meId&&t.user_id===this.meId,this.resetFollowState(),this.canPostFromProfile||(this.profileComposerOpen=!1),this.loadFollowMeta(t)}resetFollowState(){this.followersCount=null,this.followingCount=null,this.viewerFollowing=!1,this.followError="",this.followMetaLoading=!1,this.followProfileId=null,this.followBusy=!1}async loadFollowMeta(t){if(!t?.user_id){this.resetFollowState();return}let e=t.user_id;this.followProfileId=e,this.followMetaLoading=!0,this.followError="",this.forceUi();try{let[a,n]=await Promise.all([this.follows.counts(e),!this.isOwner&&this.meId?this.follows.isFollowing(this.meId,e):Promise.resolve(!1)]);if(this.followProfileId!==e)return;this.followersCount=a.followers,this.followingCount=a.following,this.viewerFollowing=n}catch(a){this.followProfileId===e&&(this.followError=a?.message??String(a))}finally{this.followProfileId===e&&(this.followMetaLoading=!1,this.forceUi())}}async toggleFollow(){if(!(!this.profile||this.isOwner)){if(!this.meId){await this.router.navigate(["/auth"]);return}if(!(this.followMetaLoading||this.followBusy)){this.followBusy=!0,this.followError="",this.forceUi();try{if(this.viewerFollowing){await this.follows.unfollow(this.meId,this.profile.user_id),this.viewerFollowing=!1;let t=(this.followersCount??1)-1;this.followersCount=t<0?0:t}else await this.follows.follow(this.meId,this.profile.user_id),this.viewerFollowing=!0,this.followersCount=(this.followersCount??0)+1}catch(t){this.followError=t?.message??String(t)}finally{this.followBusy=!1,this.forceUi()}}}}async submitProfilePost(){if(!this.profile||!this.meId||!this.canPostFromProfile)return;let t=this.postBody.trim();if(!t){this.postError="Write something before posting.";return}this.postBusy=!0,this.postError="",this.postFeedback="",this.forceUi();try{let e=this.postTitle.trim(),a=String(this.profile?.country_code||"").toUpperCase(),n=this.profile.country_name;if(!a||!n)throw new Error("Country details missing.");await this.posts.createPost({authorId:this.meId,title:e||null,body:t,countryCode:a,countryName:n,cityName:this.profile?.city_name??null}),this.postTitle="",this.postBody="",this.profileComposerOpen=!1,this.postFeedback=`Shared with ${n}.`,this.forceUi(),setTimeout(()=>{this.postFeedback="",this.cdr.detectChanges()},2e3)}catch(e){this.postError=e?.message??String(e)}finally{this.postBusy=!1,this.forceUi()}}startNameEdit(){this.draftDisplayName=this.profile?.display_name??"",this.editingName=!0}cancelNameEdit(){this.editingName=!1,this.draftDisplayName=this.profile?.display_name??""}async saveDisplayName(){if(!this.profile)return;let t=this.draftDisplayName.trim();if(t){this.nameSaving=!0,this.forceUi();try{let e=await this.profiles.updateProfile({display_name:t});this.applyProfile(e.updateProfile),this.editingName=!1}catch(e){this.error=e?.message??String(e)}finally{this.nameSaving=!1,this.forceUi()}}}startUsernameEdit(){this.isOwner&&(this.usernameError="",this.draftUsername=this.profile?.username??"",this.editingUsername=!0)}cancelUsernameEdit(){this.editingUsername=!1,this.usernameError="",this.draftUsername=this.profile?.username??""}onUsernameDraftChange(){this.usernameError&&(this.usernameError="",this.forceUi())}async saveUsername(){if(!this.profile||!this.isOwner)return;let t=this.normalizeUsername(this.draftUsername);if(!t){this.usernameError="Username is required.";return}if(!this.USERNAME_PATTERN.test(t)){this.usernameError="Use 3-24 letters, numbers, dots, or underscores.";return}if((this.profile.username??"")===t){this.editingUsername=!1;return}this.usernameSaving=!0,this.usernameError="",this.forceUi();try{let e=await this.profiles.updateProfile({username:t});this.applyProfile(e.updateProfile),this.editingUsername=!1}catch(e){let a=(e?.message??String(e)).toLowerCase();a.includes("duplicate")||a.includes("unique")?this.usernameError="Handle already taken.":this.usernameError=e?.message??String(e)}finally{this.usernameSaving=!1,this.forceUi()}}startBioEdit(){this.draftBio=this.bio??"",this.editingBio=!0}cancelBioEdit(){this.editingBio=!1,this.draftBio=this.bio??""}async saveBio(){let t=this.draftBio.trim();this.bioSaving=!0,this.forceUi();try{let e=await this.profiles.updateProfile({bio:t?t.slice(0,160):null});this.applyProfile(e.updateProfile),this.editingBio=!1}catch(e){this.error=e?.message??String(e)}finally{this.bioSaving=!1,this.forceUi()}}toggleAvatarEditor(t){t.stopPropagation(),this.editingAvatar=!this.editingAvatar,this.avatarError="",this.editingAvatar&&(this.draftAvatarUrl=this.avatarImage||"",this.draftNormX=this.avatarNormX,this.draftNormY=this.avatarNormY)}cancelAvatarEdit(){this.editingAvatar=!1,this.avatarError="",this.draftAvatarUrl="",this.draftNormX=this.avatarNormX,this.draftNormY=this.avatarNormY}openAvatarModal(){!this.avatarImage&&!this.draftAvatarUrl||(this.avatarModalOpen=!0)}closeAvatarModal(){this.avatarModalOpen=!1}goBack(){this.router.navigate(["/globe"],{queryParams:{}})}async onAvatar(t){let e=t.target,a=e.files?.[0];if(a){this.avatarError="",this.avatarSaving=!1,this.forceUi();try{let n=await this.cropAvatarToSquare(a),p=await this.media.uploadAvatar(n);if(!p.url)throw new Error("Upload returned no URL.");this.draftAvatarUrl=p.url,this.draftNormX=0,this.draftNormY=0}catch(n){this.avatarError=n?.message??String(n)}finally{e.value="",this.forceUi()}}}async saveAvatar(){if(this.draftAvatarUrl){this.avatarSaving=!0,this.avatarError="",this.forceUi();try{let t=await this.profiles.updateProfile({avatar_url:this.draftAvatarUrl});this.applyProfile(t.updateProfile),this.avatarImage=this.profile?.avatar_url??"",this.avatarNormX=this.draftNormX,this.avatarNormY=this.draftNormY,this.editingAvatar=!1}catch(t){this.avatarError=t?.message??String(t)}finally{this.avatarSaving=!1,this.forceUi()}}}onAvatarDragStart(t){if(!this.draftAvatarUrl)return;this.dragging=!0,this.startX=t.clientX,this.startY=t.clientY;let e=this.maxOffset(this.EDIT_SIZE,this.EDIT_SCALE);this.basePxX=this.draftNormX*e,this.basePxY=this.draftNormY*e,t.target.setPointerCapture?.(t.pointerId);let a=p=>this.onAvatarDragMove(p),n=()=>this.onAvatarDragEnd(a,n);window.addEventListener("pointermove",a,{passive:!0}),window.addEventListener("pointerup",n,{passive:!0})}onAvatarDragMove(t){if(!this.dragging)return;let e=t.clientX-this.startX,a=t.clientY-this.startY,n=this.maxOffset(this.EDIT_SIZE,this.EDIT_SCALE),p=C=>Math.max(-n,Math.min(n,C));this.pendingPxX=p(this.basePxX+e),this.pendingPxY=p(this.basePxY+a),this.raf||(this.raf=requestAnimationFrame(()=>{this.draftNormX=this.clampNorm(n?this.pendingPxX/n:0),this.draftNormY=this.clampNorm(n?this.pendingPxY/n:0),this.raf=0}))}onAvatarDragEnd(t,e){this.dragging=!1,window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",e)}async copyShareLink(){if(this.shareUrl){this.shareError="",this.shareCopied=!1,this.forceUi();try{if(typeof navigator<"u"&&navigator.clipboard?.writeText)await navigator.clipboard.writeText(this.shareUrl);else throw new Error("Clipboard unavailable.");this.shareCopied=!0,this.forceUi(),typeof window<"u"&&(this.shareTimer&&clearTimeout(this.shareTimer),this.shareTimer=window.setTimeout(()=>{this.zone.run(()=>{this.shareCopied=!1,this.cdr.detectChanges()})},1600))}catch(t){this.shareError=t?.message??String(t),this.forceUi()}}}onProfileEditAction(){if(this.isOwner){if(!this.profileEditMode){this.profileEditMode=!0,this.profileEditSaved=!1,this.profileEditSaving=!1;return}this.profileEditSaving||(this.profileEditSaving=!0,this.profileEditSaved=!0,this.forceUi(),this.profileEditCloseTimer&&clearTimeout(this.profileEditCloseTimer),this.profileEditCloseTimer=window.setTimeout(()=>{this.completeProfileEditClose()},700))}}completeProfileEditClose(){this.profileEditMode=!1,this.profileEditSaving=!1,this.profileEditSaved=!1,this.profileEditCloseTimer=null,this.cancelNameEdit(),this.cancelUsernameEdit(),this.cancelBioEdit(),this.editingAvatar&&this.cancelAvatarEdit(),this.forceUi()}buildShareUrl(t){if(!t)return"";let e=t.username?.trim();if(!e)return"";let a=typeof window<"u"&&window.location?window.location.origin:"";return a?`${a}/user/${encodeURIComponent(e)}`:`/user/${encodeURIComponent(e)}`}normalizeUsername(t){return t.trim().replace(/^@+/,"").toLowerCase()}clampNorm(t){return Math.max(-1,Math.min(1,t))}maxOffset(t,e){let a=t*e;return Math.max(0,(a-t)/2)}async cropAvatarToSquare(t){let e=(t.type||"").toLowerCase();if(e==="image/gif")throw new Error("GIF avatars are disabled.");if(!e.startsWith("image/"))throw new Error("Please choose an image file.");let a=e==="image/png"||e==="image/webp"?"image/png":"image/jpeg",n=a==="image/png"?"png":"jpg",p=await createImageBitmap(t),C=Math.min(p.width,p.height),U=Math.floor((p.width-C)/2),V=Math.floor((p.height-C)/2),w=document.createElement("canvas");w.width=this.AVATAR_OUT_SIZE,w.height=this.AVATAR_OUT_SIZE;let M=w.getContext("2d",{alpha:!0});if(!M)throw new Error("Canvas not supported.");M.imageSmoothingEnabled=!0,M.imageSmoothingQuality="high",M.clearRect(0,0,w.width,w.height),M.drawImage(p,U,V,C,C,0,0,w.width,w.height),p.close?.();let ne=await new Promise((re,oe)=>{w.toBlob(A=>A?re(A):oe(new Error("Failed to crop image.")),a,a==="image/jpeg"?.92:void 0)});return new File([ne],`avatar.${n}`,{type:a})}forceUi(){this.zone.run(()=>this.cdr.detectChanges())}static \u0275fac=function(e){return new(e||i)(x(R),x(j),x(W),x(Z),x(Q),x(ee),x(te),x(B),x(q))};static \u0275cmp=F({type:i,selectors:[["app-profile-page"]],decls:8,vars:3,consts:[["stateTpl",""],[1,"wrap"],["aria-hidden","true",1,"ocean-gradient"],["aria-hidden","true",1,"ocean-dots"],["aria-hidden","true",1,"noise"],["class","card",4,"ngIf","ngIfElse"],["class","avatar-modal",3,"click",4,"ngIf"],[1,"card"],["type","button",1,"ghost-link","back-link",3,"click"],[1,"head"],[1,"avatar-block",3,"click"],[1,"avatar"],["alt","avatar","class","img",3,"src","transform",4,"ngIf"],["class","init",4,"ngIf"],[1,"ring"],["type","button","class","micro-btn outline",3,"click",4,"ngIf"],[1,"info"],["class","title-row",4,"ngIf"],["class","share-feedback",3,"error",4,"ngIf"],["class","edit-row",4,"ngIf"],["class","handle-row",4,"ngIf"],["class","social-row",4,"ngIf"],[1,"meta"],[4,"ngIf"],["class","bio",4,"ngIf"],["class","composer profile-composer",4,"ngIf"],["class","avatar-editor",4,"ngIf"],["alt","avatar",1,"img",3,"src"],[1,"init"],["type","button",1,"micro-btn","outline",3,"click"],[1,"title-row"],[1,"title"],[1,"title-actions"],["class","micro-btn","type","button",3,"click",4,"ngIf"],["class","micro-btn outline edit-profile-toggle","type","button",3,"disabled","click",4,"ngIf"],["type","button","aria-label","Copy profile link",1,"share-icon","bare","share-emoji",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","role","img","aria-hidden","true","focusable","false"],["fill","#e3e3e3","d","M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z"],["type","button",1,"micro-btn",3,"click"],["type","button",1,"micro-btn","outline","edit-profile-toggle",3,"click","disabled"],["class","saved-check","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"saved-check"],["aria-hidden","true"],["aria-hidden","true",1,"check-arrow"],[1,"share-feedback"],[1,"edit-row"],["maxlength","80","placeholder","Display name",1,"text-input",3,"ngModelChange","ngModel"],[1,"edit-actions"],["type","button",1,"btn",3,"click","disabled"],["type","button",1,"ghost-link",3,"click"],[1,"handle-row"],[1,"sub","handle"],[1,"social-row"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],["class","follow-cta",4,"ngIf"],[1,"follow-cta"],["type","button",1,"follow-btn",3,"click","disabled"],["class","hint error",4,"ngIf"],[1,"hint","error"],["maxlength","24","placeholder","username","autocapitalize","off","autocomplete","off","spellcheck","false",1,"text-input",3,"ngModelChange","ngModel"],[1,"hint"],[1,"bio"],["maxlength","160","placeholder","Tell the world about you",1,"text-input","textarea",3,"ngModelChange","ngModel"],[1,"composer","profile-composer"],[1,"composer-row"],[1,"composer-avatar"],["alt","avatar",3,"src",4,"ngIf"],["class","composer-initials",4,"ngIf"],[1,"composer-main"],[1,"composer-top"],[1,"composer-title"],[1,"composer-hint"],[1,"composer-cta"],["class","pill-link ghost","type","button",3,"click",4,"ngIf"],["class","composer-trigger","type","button",3,"click",4,"ngIf"],["class","composer-actions",4,"ngIf"],["alt","avatar",3,"src"],[1,"composer-initials"],["type","button",1,"pill-link","ghost",3,"click"],["type","button",1,"composer-trigger",3,"click"],["maxlength","120","placeholder","Add a headline (optional)",1,"composer-input",3,"ngModelChange","ngModel"],["rows","3","maxlength","5000",1,"composer-textarea",3,"ngModelChange","placeholder","ngModel"],[1,"composer-actions"],["class","composer-status",3,"error",4,"ngIf"],[1,"composer-status"],[1,"avatar-editor"],[1,"editor-head"],[1,"sec-title"],[1,"btn-file"],["type","file","accept","image/*",3,"change"],[1,"editor-preview"],["class","avatar large",3,"adjusting","pointerdown",4,"ngIf"],["class","muted",4,"ngIf"],[1,"avatar","large",3,"pointerdown"],["alt","preview",1,"img",3,"src"],[1,"muted"],[1,"card","state"],[1,"avatar-modal",3,"click"],[1,"avatar-modal-card",3,"click"],[1,"avatar","large"]],template:function(e,a){if(e&1&&(s(0,"div",1),P(1,"div",2)(2,"div",3)(3,"div",4),_(4,Re,24,15,"div",5)(5,We,3,2,"ng-template",null,0,L),o(),_(7,Ge,7,3,"div",6)),e&2){let n=z(6);r(4),c("ngIf",!a.loading&&!a.error&&a.profile)("ngIfElse",n),r(3),c("ngIf",a.avatarModalOpen)}},dependencies:[X,Y,K,G,H,$,J],styles:["[_nghost-%COMP%]{position:fixed;inset:0;display:block;pointer-events:auto;z-index:30}.wrap[_ngcontent-%COMP%]{position:fixed;inset:0;padding:86px 16px 32px;box-sizing:border-box;overflow:auto;background:#031421;color:#ffffffeb}.wrap[_ngcontent-%COMP%] > .ocean-gradient[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%] > .ocean-dots[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%] > .noise[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.ocean-gradient[_ngcontent-%COMP%]{z-index:0;background:radial-gradient(1400px 900px at 38% 20%,rgba(0,255,209,.18),transparent 60%),radial-gradient(1100px 900px at 65% 70%,rgba(140,0,255,.14),transparent 64%),#031421;animation:_ngcontent-%COMP%_oceanPulse 18s ease-in-out infinite}.ocean-dots[_ngcontent-%COMP%]{z-index:1;background-image:radial-gradient(circle at 20% 20%,rgba(255,255,255,.35) .8px,transparent 2px),radial-gradient(circle at 70% 30%,rgba(255,255,255,.25) .6px,transparent 2px),radial-gradient(circle at 40% 70%,rgba(255,255,255,.2) .7px,transparent 2.2px);background-size:220px 220px,340px 340px,520px 520px;opacity:.45;mix-blend-mode:screen;animation:_ngcontent-%COMP%_driftDots 48s linear infinite}.noise[_ngcontent-%COMP%]{z-index:2;background-image:linear-gradient(0deg,rgba(255,255,255,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px);background-size:4px 4px;opacity:.12;pointer-events:none;animation:_ngcontent-%COMP%_drift 18s linear infinite}@keyframes _ngcontent-%COMP%_oceanPulse{0%{opacity:.85;transform:scale(1)}50%{opacity:1;transform:scale(1.02)}to{opacity:.85;transform:scale(1)}}@keyframes _ngcontent-%COMP%_driftDots{0%{transform:translateZ(0)}50%{transform:translate3d(-80px,-40px,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_drift{0%{transform:translateZ(0)}50%{transform:translate3d(-10px,10px,0)}to{transform:translateZ(0)}}.card[_ngcontent-%COMP%]{position:relative;z-index:3;width:min(900px,100%);margin:0 auto;border-radius:28px;padding:24px;background:#f5f7faf2;border:1px solid rgba(0,0,0,.08);box-shadow:0 30px 90px #00000080;color:#0a0c12eb;min-height:200px}.state[_ngcontent-%COMP%]{text-align:center;font-weight:800;font-size:14px}.share-row[_ngcontent-%COMP%]{margin-bottom:18px}.share-box[_ngcontent-%COMP%]{border-radius:18px;border:1px solid rgba(0,0,0,.08);background:#fffffff0;padding:14px}.share-box.empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:flex-start}.share-label[_ngcontent-%COMP%]{font-weight:900;font-size:12px;letter-spacing:.12em;opacity:.65}.share-link[_ngcontent-%COMP%]{font-family:JetBrains Mono,SFMono-Regular,Consolas,monospace;font-size:12px;word-break:break-all;margin-top:6px}.share-placeholder[_ngcontent-%COMP%]{font-size:13px;opacity:.7}.share-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}.composer[_ngcontent-%COMP%]{margin-top:20px;border-radius:20px;border:1px solid rgba(0,0,0,.06);background:#fffffff2;padding:16px;box-shadow:0 20px 60px #0000001a}.composer.profile-composer[_ngcontent-%COMP%]{margin-bottom:20px}.composer-row[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.composer-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:999px;overflow:hidden;border:1px solid rgba(0,0,0,.08);background:#f5f7fae6;display:grid;place-items:center;flex:0 0 auto}.composer-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.composer-initials[_ngcontent-%COMP%]{font-weight:900;letter-spacing:.12em;color:#0a0c12cc}.composer-main[_ngcontent-%COMP%]{flex:1}.composer-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}.composer-cta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.composer-title[_ngcontent-%COMP%]{font-weight:900;letter-spacing:.12em;font-size:12px}.composer-hint[_ngcontent-%COMP%]{font-size:12px;opacity:.7;margin-top:4px}.pill-link[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:6px 16px;font-size:10px;letter-spacing:.18em;font-weight:900;text-transform:uppercase;background:#0000000d;color:#0a0c12bf;cursor:pointer}.pill-link.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(10,12,18,.15)}.composer-trigger[_ngcontent-%COMP%]{width:100%;margin-top:10px;border-radius:16px;border:1px solid rgba(0,0,0,.08);background:#f5f7fae6;text-align:left;padding:12px;font-weight:600;color:#0a0c12a6;cursor:pointer}.composer-input[_ngcontent-%COMP%], .composer-textarea[_ngcontent-%COMP%]{width:100%;margin-top:10px;border-radius:16px;border:1px solid rgba(0,0,0,.08);background:#f5f7fae6;padding:12px;font-family:inherit;font-size:14px}.composer-textarea[_ngcontent-%COMP%]{min-height:90px;resize:vertical}.composer-actions[_ngcontent-%COMP%]{margin-top:12px;display:flex;align-items:center;gap:12px;flex-wrap:wrap}.composer-status[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.08em;color:#0078ffe6}.composer-status.error[_ngcontent-%COMP%]{color:#c33}.btn[_ngcontent-%COMP%]{border:0;border-radius:16px;padding:10px 14px;background:linear-gradient(90deg,#00ffd1d9,#8c00ffbf);color:#06080ef5;font-weight:900;letter-spacing:.12em;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.micro-btn[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:6px 16px;text-transform:uppercase;letter-spacing:.18em;font-size:10px;font-weight:900;background:#0a0c120f;color:#0a0c12c7;box-shadow:inset 0 0 0 1px #0a0c120f,0 12px 32px #00000014;cursor:pointer;transition:transform .16s ease,box-shadow .16s ease,background .16s ease}.micro-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:inset 0 0 0 1px #0a0c121f,0 18px 40px #0000001f}.micro-btn.outline[_ngcontent-%COMP%]{background:#ffffffe6;color:#06080ed9;box-shadow:inset 0 0 0 1px #0000000d,0 10px 30px #00000017}.share-icon[_ngcontent-%COMP%]{border:0;border-radius:999px;width:36px;height:36px;display:grid;place-items:center;background:#0a0c1214;cursor:pointer;font-size:16px}.share-icon.bare[_ngcontent-%COMP%]{background:transparent;width:auto;height:auto;font-size:20px;line-height:1}.share-icon.share-emoji[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;margin-left:auto}.edit-profile-toggle[_ngcontent-%COMP%]   .saved-check[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#00c781;font-weight:700;letter-spacing:.05em}.edit-profile-toggle[_ngcontent-%COMP%]   .saved-check[_ngcontent-%COMP%]   .check-arrow[_ngcontent-%COMP%]{font-size:14px}.share-icon.share-emoji[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.share-icon[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.hint[_ngcontent-%COMP%]{font-size:12px;opacity:.75}.hint.error[_ngcontent-%COMP%]{color:#c33;opacity:1}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.head[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap}.avatar-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:999px;overflow:hidden;position:relative;border:1px solid rgba(0,255,209,.24);background:#0a0c141f;display:grid;place-items:center}.avatar.large[_ngcontent-%COMP%]{width:180px;height:180px}.img[_ngcontent-%COMP%]{width:120%;height:120%;object-fit:cover;transition:transform .12s linear}.ring[_ngcontent-%COMP%]{position:absolute;inset:-2px;border-radius:999px;background:conic-gradient(from 180deg,#00ffd100,#00ffd18c,#8c00ff73,#00ffd100);filter:blur(12px);opacity:.25;pointer-events:none}.ghost-link[_ngcontent-%COMP%]{border:0;background:transparent;color:#0078ffd9;font-size:12px;text-transform:uppercase;letter-spacing:.12em;font-weight:800;cursor:pointer}.back-link[_ngcontent-%COMP%]{color:#000000a6;margin-bottom:12px;display:inline-flex;align-items:center;gap:6px}.ghost-link.strong[_ngcontent-%COMP%]{letter-spacing:.18em}.handle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-top:4px}.sub.handle[_ngcontent-%COMP%]{margin:0}.info[_ngcontent-%COMP%]{flex:1;min-width:0}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:900;letter-spacing:.08em;text-transform:uppercase}.title-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.title-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.sub[_ngcontent-%COMP%]{margin-top:4px;font-weight:800;opacity:.75}.meta[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;opacity:.7;font-weight:700;display:flex;gap:6px;flex-wrap:wrap}.social-row[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:14px;flex-wrap:wrap;align-items:center}.stat-card[_ngcontent-%COMP%]{min-width:110px;border-radius:18px;padding:12px 14px;background:#00000009;border:1px solid rgba(0,0,0,.05);box-shadow:0 18px 40px #00000014}.stat-value[_ngcontent-%COMP%]{font-weight:900;font-size:18px;letter-spacing:.08em;color:#06080ee0}.stat-label[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.18em;text-transform:uppercase;opacity:.6;font-weight:800}.follow-cta[_ngcontent-%COMP%]{margin-left:auto;display:flex;flex-direction:column;gap:6px;align-items:flex-end}.follow-btn[_ngcontent-%COMP%]{border:0;border-radius:999px;padding:10px 22px;background:linear-gradient(120deg,#00ffd1f2,#8c00ffc7);color:#06080eeb;font-weight:900;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;box-shadow:0 18px 50px #00ffd147;transition:transform .16s ease,box-shadow .16s ease,opacity .16s ease}.follow-btn.following[_ngcontent-%COMP%]{background:#0a0c14e6;color:#ffffffe6;box-shadow:0 18px 40px #0000003d}.follow-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none;transform:none}.bio[_ngcontent-%COMP%]{margin-top:12px;line-height:1.5;font-size:14px}.text-input[_ngcontent-%COMP%]{width:100%;border-radius:14px;border:1px solid rgba(0,0,0,.12);padding:10px 12px;font-size:14px;font-family:inherit;background:#fffffff2}.textarea[_ngcontent-%COMP%]{min-height:90px;resize:vertical}.edit-row[_ngcontent-%COMP%]{margin-top:10px}.edit-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}.avatar-editor[_ngcontent-%COMP%]{margin-top:24px;border-top:1px solid rgba(0,0,0,.08);padding-top:16px}.editor-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap}.sec-title[_ngcontent-%COMP%]{font-weight:900;letter-spacing:.12em;font-size:12px;text-transform:uppercase}.btn-file[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1);border-radius:14px;padding:10px 12px;cursor:pointer;background:#fffffff2;font-weight:800;letter-spacing:.08em}.btn-file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.editor-preview[_ngcontent-%COMP%]{margin-top:18px;display:flex;justify-content:center}.avatar-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0000008c;display:grid;place-items:center;z-index:40}.avatar-modal-card[_ngcontent-%COMP%]{background:#0a0c14eb;border:1px solid rgba(255,255,255,.12);border-radius:24px;padding:24px;text-align:center;color:#ffffffeb}"]})};export{ie as ProfilePageComponent};
