var Nw=Object.create;var Fc=Object.defineProperty,xw=Object.defineProperties,Ow=Object.getOwnPropertyDescriptor,kw=Object.getOwnPropertyDescriptors,Pw=Object.getOwnPropertyNames,qf=Object.getOwnPropertySymbols,Lw=Object.getPrototypeOf,Wf=Object.prototype.hasOwnProperty,Fw=Object.prototype.propertyIsEnumerable;var Gf=(e,t,n)=>t in e?Fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})Wf.call(t,n)&&Gf(e,n,t[n]);if(qf)for(var n of qf(t))Fw.call(t,n)&&Gf(e,n,t[n]);return e},K=(e,t)=>xw(e,kw(t));var vA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jw=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pw(t))!Wf.call(e,o)&&o!==n&&Fc(e,o,{get:()=>t[o],enumerable:!(r=Ow(t,o))||r.enumerable});return e};var yA=(e,t,n)=>(n=e!=null?Nw(Lw(e)):{},jw(t||!e||!e.__esModule?Fc(n,"default",{value:e,enumerable:!0}):n,e));var Ee=null,$i=!1,Bc=1,$w=null,Ie=Symbol("SIGNAL");function x(e){let t=Ee;return Ee=e,t}function Bi(){return Ee}var ro={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oo(e){if($i)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ee.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ee.producers,n!==void 0&&n.producer===e)){Ee.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Ee&&(!r||Bw(o,Ee)))return;let i=ir(Ee),s={producer:e,consumer:Ee,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Ee.producersTail=s,t!==void 0?t.nextProducer=s:Ee.producers=s,i&&Qf(e,s)}function Kf(){Bc++}function Vc(e){if(!(ir(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Bc)){if(!e.producerMustRecompute(e)&&!Hi(e)){Uc(e);return}e.producerRecomputeValue(e),Uc(e)}}function Hc(e){if(e.consumers===void 0)return;let t=$i;$i=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Uw(r)}}finally{$i=t}}function zc(){return Ee?.consumerAllowSignalWrites!==!1}function Uw(e){e.dirty=!0,Hc(e),e.consumerMarkedDirty?.(e)}function Uc(e){e.dirty=!1,e.lastCleanEpoch=Bc}function io(e){return e&&Yf(e),x(e)}function Yf(e){e.producersTail=void 0,e.recomputing=!0}function Vi(e,t){x(t),e&&Zf(e)}function Zf(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ir(e))do n=qc(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Hi(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Vc(n),r!==n.version))return!0}return!1}function so(e){if(ir(e)){let t=e.producers;for(;t!==void 0;)t=qc(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Qf(e,t){let n=e.consumersTail,r=ir(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Qf(o.producer,o)}function qc(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!ir(t)){let i=t.producers;for(;i!==void 0;)i=qc(i)}return n}function ir(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Gc(e){$w?.(e)}function Bw(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Wc(e,t){return Object.is(e,t)}function zi(e,t){let n=Object.create(Vw);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Vc(n),oo(n),n.value===Ui)throw n.error;return n.value};return r[Ie]=n,Gc(n),r}var jc=Symbol("UNSET"),$c=Symbol("COMPUTING"),Ui=Symbol("ERRORED"),Vw=K(w({},ro),{value:jc,dirty:!0,error:null,equal:Wc,kind:"computed",producerMustRecompute(e){return e.value===jc||e.value===$c},producerRecomputeValue(e){if(e.value===$c)throw new Error("");let t=e.value;e.value=$c;let n=io(e),r,o=!1;try{r=e.computation(),x(null),o=t!==jc&&t!==Ui&&r!==Ui&&e.equal(t,r)}catch(i){r=Ui,e.error=i}finally{Vi(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function Hw(){throw new Error}var Jf=Hw;function Xf(e){Jf(e)}function Kc(e){Jf=e}var zw=null;function Yc(e,t){let n=Object.create(qi);n.value=e,t!==void 0&&(n.equal=t);let r=()=>eh(n);return r[Ie]=n,Gc(n),[r,s=>ao(n,s),s=>th(n,s)]}function eh(e){return oo(e),e.value}function ao(e,t){zc()||Xf(e),e.equal(e.value,t)||(e.value=t,qw(e))}function th(e,t){zc()||Xf(e),ao(e,t(e.value))}var qi=K(w({},ro),{equal:Wc,value:void 0,kind:"signal"});function qw(e){e.version++,Kf(),Hc(e),zw?.(e)}function Zc(e){let t=x(null);try{return e()}finally{x(t)}}function N(e){return typeof e=="function"}function sr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gi=sr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function co(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(i){t=i instanceof Gi?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{nh(i)}catch(s){t=t??[],s instanceof Gi?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Gi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)nh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&co(n,t)}remove(t){let{_finalizers:n}=this;n&&co(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var Qc=he.EMPTY;function Wi(e){return e instanceof he||e&&"closed"in e&&N(e.remove)&&N(e.add)&&N(e.unsubscribe)}function nh(e){N(e)?e():e.unsubscribe()}var et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ar={setTimeout(e,t,...n){let{delegate:r}=ar;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ar;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ki(e){ar.setTimeout(()=>{let{onUnhandledError:t}=et;if(t)t(e);else throw e})}function uo(){}var rh=Jc("C",void 0,void 0);function oh(e){return Jc("E",void 0,e)}function ih(e){return Jc("N",e,void 0)}function Jc(e,t,n){return{kind:e,value:t,error:n}}var hn=null;function cr(e){if(et.useDeprecatedSynchronousErrorHandling){let t=!hn;if(t&&(hn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=hn;if(hn=null,n)throw r}}else e()}function sh(e){et.useDeprecatedSynchronousErrorHandling&&hn&&(hn.errorThrown=!0,hn.error=e)}var pn=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wi(t)&&t.add(this)):this.destination=Kw}static create(t,n,r){return new ur(t,n,r)}next(t){this.isStopped?eu(ih(t),this):this._next(t)}error(t){this.isStopped?eu(oh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?eu(rh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gw=Function.prototype.bind;function Xc(e,t){return Gw.call(e,t)}var tu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Yi(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Yi(r)}else Yi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Yi(n)}}},ur=class extends pn{constructor(t,n,r){super();let o;if(N(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&et.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Xc(t.next,i),error:t.error&&Xc(t.error,i),complete:t.complete&&Xc(t.complete,i)}):o=t}this.destination=new tu(o)}};function Yi(e){et.useDeprecatedSynchronousErrorHandling?sh(e):Ki(e)}function Ww(e){throw e}function eu(e,t){let{onStoppedNotification:n}=et;n&&ar.setTimeout(()=>n(e,t))}var Kw={closed:!0,next:uo,error:Ww,complete:uo};var lr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(e){return e}function nu(...e){return ru(e)}function ru(e){return e.length===0?tt:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var F=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Zw(n)?n:new ur(n,r,o);return cr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ah(r),new r((o,i)=>{let s=new ur({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[lr](){return this}pipe(...n){return ru(n)(this)}toPromise(n){return n=ah(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function ah(e){var t;return(t=e??et.Promise)!==null&&t!==void 0?t:Promise}function Yw(e){return e&&N(e.next)&&N(e.error)&&N(e.complete)}function Zw(e){return e&&e instanceof pn||Yw(e)&&Wi(e)}function Qw(e){return N(e?.lift)}function V(e){return t=>{if(Qw(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,t,n,r,o){return new ou(e,t,n,r,o)}var ou=class extends pn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var ch=sr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ch}next(n){cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Qc:(this.currentObservers=null,i.push(n),new he(()=>{this.currentObservers=null,co(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return e.create=(t,n)=>new Zi(t,n),e})(),Zi=class extends De{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Qc}};var pe=class extends De{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Oe=new F(e=>e.complete());function uh(e){return e&&N(e.schedule)}function lh(e){return e[e.length-1]}function Qi(e){return N(lh(e))?e.pop():void 0}function Ht(e){return uh(lh(e))?e.pop():void 0}function mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Ji(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function dh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(e){return this instanceof gn?(this.v=e,this):new gn(e)}function fh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(v,m){i.push([f,g,v,m])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof gn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function hh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof dh=="function"?dh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Xi=e=>e&&typeof e.length=="number"&&typeof e!="function";function es(e){return N(e?.then)}function ts(e){return N(e[lr])}function ns(e){return Symbol.asyncIterator&&N(e?.[Symbol.asyncIterator])}function rs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var os=Jw();function is(e){return N(e?.[os])}function ss(e){return fh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield gn(n.read());if(o)return yield gn(void 0);yield yield gn(r)}}finally{n.releaseLock()}})}function as(e){return N(e?.getReader)}function oe(e){if(e instanceof F)return e;if(e!=null){if(ts(e))return Xw(e);if(Xi(e))return eE(e);if(es(e))return tE(e);if(ns(e))return ph(e);if(is(e))return nE(e);if(as(e))return rE(e)}throw rs(e)}function Xw(e){return new F(t=>{let n=e[lr]();if(N(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eE(e){return new F(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function tE(e){return new F(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ki)})}function nE(e){return new F(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function ph(e){return new F(t=>{oE(e,t).catch(n=>t.error(n))})}function rE(e){return ph(ss(e))}function oE(e,t){var n,r,o,i;return Ji(this,void 0,void 0,function*(){try{for(n=hh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function ke(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function cs(e,t=0){return V((n,r)=>{n.subscribe(H(r,o=>ke(r,e,()=>r.next(o),t),()=>ke(r,e,()=>r.complete(),t),o=>ke(r,e,()=>r.error(o),t)))})}function us(e,t=0){return V((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function gh(e,t){return oe(e).pipe(us(t),cs(t))}function mh(e,t){return oe(e).pipe(us(t),cs(t))}function vh(e,t){return new F(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function yh(e,t){return new F(n=>{let r;return ke(n,t,()=>{r=e[os](),ke(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>N(r?.return)&&r.return()})}function ls(e,t){if(!e)throw new Error("Iterable cannot be null");return new F(n=>{ke(n,t,()=>{let r=e[Symbol.asyncIterator]();ke(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function wh(e,t){return ls(ss(e),t)}function Eh(e,t){if(e!=null){if(ts(e))return gh(e,t);if(Xi(e))return vh(e,t);if(es(e))return mh(e,t);if(ns(e))return ls(e,t);if(is(e))return yh(e,t);if(as(e))return wh(e,t)}throw rs(e)}function ce(e,t){return t?Eh(e,t):oe(e)}function P(...e){let t=Ht(e);return ce(e,t)}function iu(e,t){let n=N(e)?e:()=>e,r=o=>o.error(n());return new F(t?o=>t.schedule(r,0,o):r)}function ds(e){return!!e&&(e instanceof F||N(e.lift)&&N(e.subscribe))}var vn=sr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function J(e,t){return V((n,r)=>{let o=0;n.subscribe(H(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:iE}=Array;function sE(e,t){return iE(t)?e(...t):e(t)}function fs(e){return J(t=>sE(e,t))}var{isArray:aE}=Array,{getPrototypeOf:cE,prototype:uE,keys:lE}=Object;function hs(e){if(e.length===1){let t=e[0];if(aE(t))return{args:t,keys:null};if(dE(t)){let n=lE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function dE(e){return e&&typeof e=="object"&&cE(e)===uE}function ps(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function su(...e){let t=Ht(e),n=Qi(e),{args:r,keys:o}=hs(e);if(r.length===0)return ce([],t);let i=new F(fE(r,t,o?s=>ps(o,s):tt));return n?i.pipe(fs(n)):i}function fE(e,t,n=tt){return r=>{Dh(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Dh(t,()=>{let u=ce(e[c],t),l=!1;u.subscribe(H(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Dh(e,t,n){e?ke(n,e,t):t()}function _h(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&t.next(g),u++;let v=!1;oe(n(g,l++)).subscribe(H(t,m=>{o?.(m),i?f(m):t.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let m=c.shift();s?ke(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(H(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Se(e,t,n=1/0){return N(t)?Se((r,o)=>J((i,s)=>t(r,i,o,s))(oe(e(r,o))),n):(typeof t=="number"&&(n=t),V((r,o)=>_h(r,o,e,n)))}function bh(e=1/0){return Se(tt,e)}function Ch(){return bh(1)}function dr(...e){return Ch()(ce(e,Ht(e)))}function lo(e){return new F(t=>{oe(e()).subscribe(t)})}function hE(...e){let t=Qi(e),{args:n,keys:r}=hs(e),o=new F(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;oe(n[l]).subscribe(H(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ps(r,a):a),i.complete())}))}});return t?o.pipe(fs(t)):o}function gt(e,t){return V((n,r)=>{let o=0;n.subscribe(H(r,i=>e.call(t,i,o++)&&r.next(i)))})}function fo(e){return V((t,n)=>{let r=null,o=!1,i;r=t.subscribe(H(n,void 0,void 0,s=>{i=oe(e(s,fo(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function gs(e,t){return N(t)?Se(e,t,1):Se(e,1)}function au(e){return V((t,n)=>{let r=!1;t.subscribe(H(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Nt(e){return e<=0?()=>Oe:V((t,n)=>{let r=0;t.subscribe(H(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Ih(e=pE){return V((t,n)=>{let r=!1;t.subscribe(H(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function pE(){return new vn}function cu(e){return V((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function xt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?gt((o,i)=>e(o,i,r)):tt,Nt(1),n?au(t):Ih(()=>new vn))}function ms(e){return e<=0?()=>Oe:V((t,n)=>{let r=[];t.subscribe(H(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function uu(...e){let t=Ht(e);return V((n,r)=>{(t?dr(e,n,t):dr(e,n)).subscribe(r)})}function mt(e,t){return V((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(H(r,c=>{o?.unsubscribe();let u=0,l=i++;oe(e(c,l)).subscribe(o=H(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ho(e){return V((t,n)=>{oe(e).subscribe(H(n,()=>n.complete(),uo)),!n.closed&&t.subscribe(n)})}function Te(e,t,n){let r=N(e)||t||n?{next:e,error:t,complete:n}:e;return r?V((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(H(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):tt}var lu;function vs(){return lu}function vt(e){let t=lu;return lu=e,t}var Sh=Symbol("NotFound");function fr(e){return e===Sh||e?.name==="\u0275NotFound"}var _s="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(t,n){super(pr(t,n)),this.code=t}};function vE(e){return`NG0${Math.abs(e)}`}function pr(e,t){return`${vE(e)}${t?": "+t:""}`}var bn=globalThis;function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function Nh(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function kt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(kt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Iu(e,t){return e?t?`${e} ${t}`:e:t||""}var yE=z({__forward_ref__:z});function bs(e){return e.__forward_ref__=bs,e.toString=function(){return kt(this())},e}function ge(e){return Su(e)?e():e}function Su(e){return typeof e=="function"&&e.hasOwnProperty(yE)&&e.__forward_ref__===bs}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gr(e){return{providers:e.providers||[],imports:e.imports||[]}}function wo(e){return wE(e,Cs)}function Tu(e){return wo(e)!==null}function wE(e,t){return e.hasOwnProperty(t)&&e[t]||null}function EE(e){let t=e?.[Cs]??null;return t||null}function fu(e){return e&&e.hasOwnProperty(ws)?e[ws]:null}var Cs=z({\u0275prov:z}),ws=z({\u0275inj:z}),T=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Au(e){return e&&!!e.\u0275providers}var Ru=z({\u0275cmp:z}),Mu=z({\u0275dir:z}),Nu=z({\u0275pipe:z}),xu=z({\u0275mod:z}),go=z({\u0275fac:z}),Cn=z({__NG_ELEMENT_ID__:z}),Th=z({__NG_ENV_ID__:z});function Ou(e){return Is(e,"@NgModule"),e[xu]||null}function Gt(e){return Is(e,"@Component"),e[Ru]||null}function ku(e){return Is(e,"@Directive"),e[Mu]||null}function xh(e){return Is(e,"@Pipe"),e[Nu]||null}function Is(e,t){if(e==null)throw new E(-919,!1)}function In(e){return typeof e=="string"?e:e==null?"":String(e)}function Oh(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():In(e)}var kh=z({ngErrorCode:z}),DE=z({ngErrorMessage:z}),_E=z({ngTokenPath:z});function Pu(e,t){return Ph("",-200,t)}function Ss(e,t){throw new E(-201,!1)}function Ph(e,t,n){let r=new E(t,e);return r[kh]=t,r[DE]=e,n&&(r[_E]=n),r}function bE(e){return e[kh]}var hu;function Lh(){return hu}function Ae(e){let t=hu;return hu=e,t}function Lu(e,t,n){let r=wo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ss(e,"")}var CE={},yn=CE,IE="__NG_DI_FLAG__",pu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=wn(n)||0;try{return this.injector.get(t,r&8?null:yn,r)}catch(o){if(fr(o))return o;throw o}}};function SE(e,t=0){let n=vs();if(n===void 0)throw new E(-203,!1);if(n===null)return Lu(e,void 0,t);{let r=TE(t),o=n.retrieve(e,r);if(fr(o)){if(r.optional)return null;throw o}return o}}function O(e,t=0){return(Lh()||SE)(ge(e),t)}function y(e,t){return O(e,wn(t))}function wn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function TE(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function gu(e){let t=[];for(let n=0;n<e.length;n++){let r=ge(e[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=AE(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(O(o,i))}else t.push(O(r))}return t}function AE(e){return e[IE]}function zt(e,t){let n=e.hasOwnProperty(go);return n?e[go]:null}function Ts(e,t){e.forEach(n=>Array.isArray(n)?Ts(n,t):t(n))}function Fu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Eo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fh(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function jh(e,t,n){let r=mr(e,t);return r>=0?e[r|1]=n:(r=~r,Fh(e,r,t,n)),r}function As(e,t){let n=mr(e,t);if(n>=0)return e[n|1]}function mr(e,t){return RE(e,t,1)}function RE(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Wt={},je=[],vr=new T(""),ju=new T("",-1),$u=new T(""),mo=class{get(t,n=yn){if(n===yn){let o=Ph("",-201);throw o.name="\u0275NotFound",o}return n}};function Do(e){return{\u0275providers:e}}function $h(...e){return{\u0275providers:Uu(!0,e),\u0275fromNgModule:!0}}function Uu(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Ts(t,s=>{let a=s;Es(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Uh(o,i),n}function Uh(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Bu(o,i=>{t(i,r)})}}function Es(e,t,n,r){if(e=ge(e),!e)return!1;let o=null,i=fu(e),s=!i&&Gt(e);if(!i&&!s){let c=e.ngModule;if(i=fu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Es(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Ts(i.imports,l=>{Es(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Uh(u,t)}if(!a){let u=zt(o)||(()=>new o);t({provide:o,useFactory:u,deps:je},o),t({provide:$u,useValue:o,multi:!0},o),t({provide:vr,useValue:()=>O(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Bu(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Bu(e,t){for(let n of e)Au(n)&&(n=n.\u0275providers),Array.isArray(n)?Bu(n,t):t(n)}var ME=z({provide:String,useValue:z});function Bh(e){return e!==null&&typeof e=="object"&&ME in e}function NE(e){return!!(e&&e.useExisting)}function xE(e){return!!(e&&e.useFactory)}function En(e){return typeof e=="function"}function Vh(e){return!!e.useClass}var _o=new T(""),ys={},Ah={},du;function bo(){return du===void 0&&(du=new mo),du}var me=class{},Dn=class extends me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,vu(t,s=>this.processProvider(s)),this.records.set(ju,hr(void 0,this)),o.has("environment")&&this.records.set(me,hr(void 0,this));let i=this.records.get(_o);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get($u,je,{self:!0}))}retrieve(t,n){let r=wn(n)||0;try{return this.get(t,yn,r)}catch(o){if(fr(o))return o;throw o}}destroy(){po(this),this._destroyed=!0;let t=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(t)}}onDestroy(t){return po(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){po(this);let n=vt(this),r=Ae(void 0),o;try{return t()}finally{vt(n),Ae(r)}}get(t,n=yn,r){if(po(this),t.hasOwnProperty(Th))return t[Th](this);let o=wn(r),i,s=vt(this),a=Ae(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=FE(t)&&wo(t);l&&this.injectableDefInScope(l)?u=hr(mu(t),ys):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?bo():this.parent;return n=o&8&&n===yn?null:n,c.get(t,n)}catch(c){let u=bE(c);throw u===-200||u===-201?new E(u,null):c}finally{Ae(a),vt(s)}}resolveInjectorInitializers(){let t=x(null),n=vt(this),r=Ae(void 0),o;try{let i=this.get(vr,je,{self:!0});for(let s of i)s()}finally{vt(n),Ae(r),x(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(kt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ge(t);let n=En(t)?t:ge(t&&t.provide),r=kE(t);if(!En(t)&&t.multi===!0){let o=this.records.get(n);o||(o=hr(void 0,ys,!0),o.factory=()=>gu(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=x(null);try{if(n.value===Ah)throw Pu(kt(t));return n.value===ys&&(n.value=Ah,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&LE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ge(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mu(e){let t=wo(e),n=t!==null?t.factory:zt(e);if(n!==null)return n;if(e instanceof T)throw new E(204,!1);if(e instanceof Function)return OE(e);throw new E(204,!1)}function OE(e){if(e.length>0)throw new E(204,!1);let n=EE(e);return n!==null?()=>n.factory(e):()=>new e}function kE(e){if(Bh(e))return hr(void 0,e.useValue);{let t=Vu(e);return hr(t,ys)}}function Vu(e,t,n){let r;if(En(e)){let o=ge(e);return zt(o)||mu(o)}else if(Bh(e))r=()=>ge(e.useValue);else if(xE(e))r=()=>e.useFactory(...gu(e.deps||[]));else if(NE(e))r=(o,i)=>O(ge(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ge(e&&(e.useClass||e.provide));if(PE(e))r=()=>new o(...gu(e.deps));else return zt(o)||mu(o)}return r}function po(e){if(e.destroyed)throw new E(205,!1)}function hr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function PE(e){return!!e.deps}function LE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function FE(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function vu(e,t){for(let n of e)Array.isArray(n)?vu(n,t):n&&Au(n)?vu(n.\u0275providers,t):t(n)}function Me(e,t){let n;e instanceof Dn?(po(e),n=e):n=new pu(e);let r,o=vt(n),i=Ae(void 0);try{return t()}finally{vt(o),Ae(i)}}function Hh(){return Lh()!==void 0||vs()!=null}var rt=0,A=1,R=2,ve=3,qe=4,Ge=5,Co=6,yr=7,_e=8,Kt=9,wt=10,X=11,wr=12,Hu=13,Sn=14,We=15,Tn=16,An=17,Rn=18,Io=19,zu=20,Ot=21,Rs=22,So=23,$e=24,Mn=25,To=26,ue=27,zh=1;var Yt=7,Ao=8,Ro=9,Le=10;function Et(e){return Array.isArray(e)&&typeof e[zh]=="object"}function ot(e){return Array.isArray(e)&&e[zh]===!0}function qu(e){return(e.flags&4)!==0}function Zt(e){return e.componentOffset>-1}function Er(e){return(e.flags&1)===1}function Dt(e){return!!e.template}function Dr(e){return(e[R]&512)!==0}function Nn(e){return(e[R]&256)===256}var Gu="svg",qh="math";function Ke(e){for(;Array.isArray(e);)e=e[rt];return e}function Wu(e,t){return Ke(t[e])}function it(e,t){return Ke(t[e.index])}function Ms(e,t){return e.data[t]}function Ku(e,t){return e[t]}function Yu(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Ye(e,t){let n=t[e];return Et(n)?n:n[rt]}function Ns(e){return(e[R]&128)===128}function Gh(e){return ot(e[ve])}function xn(e,t){return t==null?null:e[t]}function Zu(e){e[An]=0}function Qu(e){e[R]&1024||(e[R]|=1024,Ns(e)&&_r(e))}function Wh(e,t){for(;e>0;)t=t[Sn],e--;return t}function Mo(e){return!!(e[R]&9216||e[$e]?.dirty)}function xs(e){e[wt].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),Mo(e)&&_r(e)}function _r(e){e[wt].changeDetectionScheduler?.notify(0);let t=qt(e);for(;t!==null&&!(t[R]&8192||(t[R]|=8192,!Ns(t)));)t=qt(t)}function Ju(e,t){if(Nn(e))throw new E(911,!1);e[Ot]===null&&(e[Ot]=[]),e[Ot].push(t)}function Kh(e,t){if(e[Ot]===null)return;let n=e[Ot].indexOf(t);n!==-1&&e[Ot].splice(n,1)}function qt(e){let t=e[ve];return ot(t)?t[ve]:t}function Yh(e){return e[yr]??=[]}function Zh(e){return e.cleanup??=[]}var k={lFrame:hp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yu=!1;function Qh(){return k.lFrame.elementDepthCount}function Jh(){k.lFrame.elementDepthCount++}function Xu(){k.lFrame.elementDepthCount--}function Os(){return k.bindingsEnabled}function Xh(){return k.skipHydrationRootTNode!==null}function el(e){return k.skipHydrationRootTNode===e}function tl(){k.skipHydrationRootTNode=null}function j(){return k.lFrame.lView}function Ne(){return k.lFrame.tView}function ep(e){return k.lFrame.contextLView=e,e[_e]}function tp(e){return k.lFrame.contextLView=null,e}function be(){let e=nl();for(;e!==null&&e.type===64;)e=e.parent;return e}function nl(){return k.lFrame.currentTNode}function np(){let e=k.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function br(e,t){let n=k.lFrame;n.currentTNode=e,n.isParent=t}function rl(){return k.lFrame.isParent}function rp(){k.lFrame.isParent=!1}function op(){return k.lFrame.contextLView}function ol(){return yu}function il(e){let t=yu;return yu=e,t}function ip(){let e=k.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sp(){return k.lFrame.bindingIndex}function ap(e){return k.lFrame.bindingIndex=e}function No(){return k.lFrame.bindingIndex++}function sl(e){let t=k.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cp(){return k.lFrame.inI18n}function up(e,t){let n=k.lFrame;n.bindingIndex=n.bindingRootIndex=e,ks(t)}function lp(){return k.lFrame.currentDirectiveIndex}function ks(e){k.lFrame.currentDirectiveIndex=e}function dp(e){let t=k.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function al(e){k.lFrame.currentQueryIndex=e}function jE(e){let t=e[A];return t.type===2?t.declTNode:t.type===1?e[Ge]:null}function cl(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=jE(i),o===null||(i=i[Sn],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=k.lFrame=fp();return r.currentTNode=t,r.lView=e,!0}function Ps(e){let t=fp(),n=e[A];k.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fp(){let e=k.lFrame,t=e===null?null:e.child;return t===null?hp(e):t}function hp(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function pp(){let e=k.lFrame;return k.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ul=pp;function Ls(){let e=pp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gp(e){return(k.lFrame.contextLView=Wh(e,k.lFrame.contextLView))[_e]}function Qt(){return k.lFrame.selectedIndex}function Jt(e){k.lFrame.selectedIndex=e}function Fs(){let e=k.lFrame;return Ms(e.tView,e.selectedIndex)}function mp(){k.lFrame.currentNamespace=Gu}function vp(){return k.lFrame.currentNamespace}var yp=!0;function js(){return yp}function xo(e){yp=e}function wu(e,t=null,n=null,r){let o=ll(e,t,n,r);return o.resolveInjectorInitializers(),o}function ll(e,t=null,n=null,r,o=new Set){let i=[n||je,$h(e)];return r=r||(typeof e=="object"?void 0:kt(e)),new Dn(i,t||bo(),r||null,o)}var nt=class e{static THROW_IF_NOT_FOUND=yn;static NULL=new mo;static create(t,n){if(Array.isArray(t))return wu({name:""},n,t,"");{let r=t.name??"";return wu({name:r},t.parent,t.providers,r)}}static \u0275prov=I({token:e,providedIn:"any",factory:()=>O(ju)});static __NG_ELEMENT_ID__=-1},le=new T(""),On=(()=>{class e{static __NG_ELEMENT_ID__=$E;static __NG_ENV_ID__=n=>n}return e})(),Eu=class extends On{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Nn(this._lView)}onDestroy(t){let n=this._lView;return Ju(n,t),()=>Kh(n,t)}};function $E(){return new Eu(j())}var wp=!1,Xt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new F(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),Du=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Hh()&&(this.destroyRef=y(On,{optional:!0})??void 0,this.pendingTasks=y(Xt,{optional:!0})??void 0)}emit(t){let n=x(null);try{super.next(t)}finally{x(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof he&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=Du;function Ds(...e){}function dl(e){let t,n;function r(){e=Ds;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function fl(e){return queueMicrotask(()=>e()),()=>{e=Ds}}var hl="isAngularZone",vo=hl+"_ID",UE=0,Pe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=wp}=t;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,HE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,BE,Ds,Ds);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},BE={};function pl(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function VE(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){dl(()=>{e.callbackScheduled=!1,_u(e),e.isCheckStableRunning=!0,pl(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),_u(e)}function HE(e){let t=()=>{VE(e)},n=UE++;e._inner=e._inner.fork({name:"angular",properties:{[hl]:!0,[vo]:n,[vo+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(zE(c))return r.invokeTask(i,s,a,c);try{return Rh(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Mh(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Rh(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!qE(c)&&t(),Mh(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,_u(e),pl(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function _u(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Rh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mh(e){e._nesting--,pl(e)}var yo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function zE(e){return Ep(e,"__ignore_ng_zone__")}function qE(e){return Ep(e,"__scheduler_tick__")}function Ep(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var yt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},_t=new T("",{factory:()=>{let e=y(Pe),t=y(me),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(yt),n.handleError(r))})}}}),Dp={provide:vr,useValue:()=>{let e=y(yt,{optional:!0})},multi:!0};function Cr(e,t){let[n,r,o]=Yc(e,t?.equal),i=n,s=i[Ie];return i.set=r,i.update=o,i.asReadonly=_p.bind(i),i}function _p(){let e=this[Ie];if(e.readonlyFn===void 0){let t=()=>this();t[Ie]=e,e.readonlyFn=t}return e.readonlyFn}var $s=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=GE}return e})();function GE(){return new $s(j(),be())}var _n=class{},Oo=new T("",{factory:()=>!0});var gl=new T("");var ml=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new bu})}return e})(),bu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Cu=class{[Ie];constructor(t){this[Ie]=t}destroy(){this[Ie].destroy()}};function bt(e){return Zc(e)}function Uo(e){return{toString:e}.toString()}function eD(e){return typeof e=="function"}function Qp(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var zs=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},sa=(()=>{let e=()=>Jp;return e.ngInherit=!0,e})();function Jp(e){return e.type.prototype.ngOnChanges&&(e.setInput=nD),tD}function tD(){let e=eg(this),t=e?.current;if(t){let n=e.previous;if(n===Wt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function nD(e,t,n,r,o){let i=this.declaredInputs[r],s=eg(e)||rD(e,{previous:Wt,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new zs(u&&u.currentValue,n,c===Wt),Qp(e,t,o,n)}var Xp="__ngSimpleChanges__";function eg(e){return e[Xp]||null}function rD(e,t){return e[Xp]=t}var bp=[];var q=function(e,t=null,n){for(let r=0;r<bp.length;r++){let o=bp[r];o(e,t,n)}},$=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})($||{});function oD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Jp(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function tg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Bs(e,t,n){ng(e,t,3,n)}function Vs(e,t,n,r){(e[R]&3)===n&&ng(e,t,n,r)}function vl(e,t){let n=e[R];(n&3)===t&&(n&=16383,n+=1,e[R]=n)}function ng(e,t,n,r){let o=r!==void 0?e[An]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[An]+=65536),(a<i||i==-1)&&(iD(e,n,t,c),e[An]=(e[An]&4294901760)+c+2),c++}function Cp(e,t){q($.LifecycleHookStart,e,t);let n=x(null);try{t.call(e)}finally{x(n),q($.LifecycleHookEnd,e,t)}}function iD(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[R]>>14<e[An]>>16&&(e[R]&3)===t&&(e[R]+=16384,Cp(a,i)):Cp(a,i)}var Sr=-1,Pn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function sD(e){return(e.flags&8)!==0}function aD(e){return(e.flags&16)!==0}function cD(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];lD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function uD(e){return e===3||e===4||e===6}function lD(e){return e.charCodeAt(0)===64}function Tr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ip(e,n,o,null,t[++r]):Ip(e,n,o,null,null))}}return e}function Ip(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function rg(e){return e!==Sr}function qs(e){return e&32767}function dD(e){return e>>16}function Gs(e,t){let n=dD(e),r=t;for(;n>0;)r=r[Sn],n--;return r}var Al=!0;function Ws(e){let t=Al;return Al=e,t}var fD=256,og=fD-1,ig=5,hD=0,Ct={};function pD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cn)&&(r=n[Cn]),r==null&&(r=n[Cn]=hD++);let o=r&og,i=1<<o;t.data[e+(o>>ig)]|=i}function Ks(e,t){let n=sg(e,t);if(n!==-1)return n;let r=t[A];r.firstCreatePass&&(e.injectorIndex=t.length,yl(r.data,e),yl(t,null),yl(r.blueprint,null));let o=Hl(e,t),i=e.injectorIndex;if(rg(o)){let s=qs(o),a=Gs(o,t),c=a[A].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function yl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Hl(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=dg(o),r===null)return Sr;if(n++,o=o[Sn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Sr}function Rl(e,t,n){pD(e,t,n)}function ag(e,t,n){if(n&8||e!==void 0)return e;Ss(t,"NodeInjector")}function cg(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Kt],i=Ae(void 0);try{return o?o.get(t,r,n&8):Lu(t,r,n&8)}finally{Ae(i)}}return ag(r,t,n)}function ug(e,t,n,r=0,o){if(e!==null){if(t[R]&2048&&!(r&2)){let s=wD(e,t,n,r,Ct);if(s!==Ct)return s}let i=lg(e,t,n,r,Ct);if(i!==Ct)return i}return cg(t,n,r,o)}function lg(e,t,n,r,o){let i=vD(n);if(typeof i=="function"){if(!cl(t,e,r))return r&1?ag(o,n,r):cg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ss(n);else return s}finally{ul()}}else if(typeof i=="number"){let s=null,a=sg(e,t),c=Sr,u=r&1?t[We][Ge]:null;for((a===-1||r&4)&&(c=a===-1?Hl(e,t):t[a+8],c===Sr||!Tp(r,!1)?a=-1:(s=t[A],a=qs(c),t=Gs(c,t)));a!==-1;){let l=t[A];if(Sp(i,a,l.data)){let d=gD(a,t,n,s,r,u);if(d!==Ct)return d}c=t[a+8],c!==Sr&&Tp(r,t[A].data[a+8]===u)&&Sp(i,a,t)?(s=l,a=qs(c),t=Gs(c,t)):a=-1}}return o}function gD(e,t,n,r,o,i){let s=t[A],a=s.data[e+8],c=r==null?Zt(a)&&Al:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=mD(a,s,n,c,u);return l!==null?Ys(t,s,l,a,o):Ct}function mD(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&Dt(f)&&f.type===n)return c}return null}function Ys(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof Pn){let a=i;if(a.resolving){let f=Oh(s[n]);throw Pu(f)}let c=Ws(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Ae(a.injectImpl):null,h=cl(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&oD(n,s[n],t)}finally{d!==null&&Ae(d),Ws(c),a.resolving=!1,ul()}}return i}function vD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Cn)?e[Cn]:void 0;return typeof t=="number"?t>=0?t&og:yD:t}function Sp(e,t,n){let r=1<<e;return!!(n[t+(e>>ig)]&r)}function Tp(e,t){return!(e&2)&&!(e&1&&t)}var kn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ug(this._tNode,this._lView,t,wn(r),n)}};function yD(){return new kn(be(),j())}function aa(e){return Uo(()=>{let t=e.prototype.constructor,n=t[go]||Ml(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[go]||Ml(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ml(e){return Su(e)?()=>{let t=Ml(ge(e));return t&&t()}:zt(e)}function wD(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[R]&2048&&!Dr(s);){let a=lg(i,s,n,r|2,Ct);if(a!==Ct)return a;let c=i.parent;if(!c){let u=s[zu];if(u){let l=u.get(n,Ct,r);if(l!==Ct)return l}c=dg(s),s=s[Sn]}i=c}return o}function dg(e){let t=e[A],n=t.type;return n===2?t.declTNode:n===1?e[Ge]:null}function ED(){return ca(be(),j())}function ca(e,t){return new zl(it(e,t))}var zl=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ED}return e})();function fg(e){return(e.flags&128)===128}var ql=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(ql||{}),hg=new Map,DD=0;function _D(){return DD++}function bD(e){hg.set(e[Io],e)}function Nl(e){hg.delete(e[Io])}var Ap="__ngContext__";function Ar(e,t){Et(t)?(e[Ap]=t[Io],bD(t)):e[Ap]=t}function pg(e){return mg(e[wr])}function gg(e){return mg(e[qe])}function mg(e){for(;e!==null&&!ot(e);)e=e[qe];return e}var CD;function Gl(e){CD=e}var ua=new T("",{factory:()=>ID}),ID="ng";var la=new T(""),Bo=new T("",{providedIn:"platform",factory:()=>"unknown"});var da=new T("",{factory:()=>y(le).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vg=!1,yg=new T("",{factory:()=>vg});var SD=(e,t,n,r)=>{};function TD(e,t,n,r){SD(e,t,n,r)}function Wl(e){return(e.flags&32)===32}var AD=()=>null;function wg(e,t,n=!1){return AD(e,t,n)}function Eg(e,t){let n=e.contentQueries;if(n!==null){let r=x(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];al(i),a.contentQueries(2,t[s],s)}}}finally{x(r)}}}function xl(e,t,n){al(0);let r=x(null);try{t(e,n)}finally{x(r)}}function Kl(e,t,n){if(qu(t)){let r=x(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{x(r)}}}var at=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(at||{});var Zs=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_s})`}};function Yl(e){return e instanceof Zs?e.changingThisBreaksApplicationSecurity:e}function Dg(e,t){let n=_g(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_s})`)}return n===t}function _g(e){return e instanceof Zs&&e.getTypeName()||null}var RD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bg(e){return e=String(e),e.match(RD)?e:"unsafe:"+e}var MD=/^>|^->|<!--|-->|--!>|<!-$/g,ND=/(<|>)/g,xD="\u200B$1\u200B";function OD(e){return e.replace(MD,t=>t.replace(ND,xD))}function kD(e,t){return e.createText(t)}function PD(e,t,n){e.setValue(t,n)}function LD(e,t){return e.createComment(OD(t))}function Cg(e,t,n){return e.createElement(t,n)}function Qs(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Ig(e,t,n){e.appendChild(t,n)}function Rp(e,t,n,r,o){r!==null?Qs(e,t,n,r,o):Ig(e,t,n)}function FD(e,t,n,r){e.removeChild(null,t,n,r)}function jD(e,t,n){e.setAttribute(t,"style",n)}function $D(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sg(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&cD(e,t,r),o!==null&&$D(e,t,o),i!==null&&jD(e,t,i)}var Zl=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Zl||{});function UD(e){let t=BD();return t?t.sanitize(Zl.URL,e)||"":Dg(e,"URL")?Yl(e):bg(In(e))}function BD(){let e=j();return e&&e[wt].sanitizer}function Tg(e){return e instanceof Function?e():e}function VD(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Ag="ng-template";function HD(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&VD(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Ql(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Ql(e){return e.type===4&&e.value!==Ag}function zD(e,t,n){let r=e.type===4&&!n?Ag:e.value;return t===r}function qD(e,t,n){let r=4,o=e.attrs,i=o!==null?KD(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!st(r)&&!st(c))return!1;if(s&&st(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!zD(e,c,n)||c===""&&t.length===1){if(st(r))return!1;s=!0}}else if(r&8){if(o===null||!HD(e,o,c,n)){if(st(r))return!1;s=!0}}else{let u=t[++a],l=GD(c,o,Ql(e),n);if(l===-1){if(st(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(st(r))return!1;s=!0}}}}return st(r)||s}function st(e){return(e&1)===0}function GD(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return YD(t,e)}function WD(e,t,n=!1){for(let r=0;r<t.length;r++)if(qD(e,t[r],n))return!0;return!1}function KD(e){for(let t=0;t<e.length;t++){let n=e[t];if(uD(n))return t}return e.length}function YD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Mp(e,t){return e?":not("+t.trim()+")":t}function ZD(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!st(s)&&(t+=Mp(i,o),o=""),r=s,i=i||!st(r);n++}return o!==""&&(t+=Mp(i,o)),t}function QD(e){return e.map(ZD).join(",")}function JD(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!st(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var ct={};function Jl(e,t,n,r,o,i,s,a,c,u,l){let d=ue+r,h=d+o,f=XD(d,h),p=typeof u=="function"?u():u;return f[A]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function XD(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ct);return n}function e_(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Jl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Xl(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[rt]=o,d[R]=r|4|128|8|64|1024,(u!==null||e&&e[R]&2048)&&(d[R]|=2048),Zu(d),d[ve]=d[Sn]=e,d[_e]=n,d[wt]=s||e&&e[wt],d[X]=a||e&&e[X],d[Kt]=c||e&&e[Kt]||null,d[Ge]=i,d[Io]=_D(),d[Co]=l,d[zu]=u,d[We]=t.type==2?e[We]:d,d}function t_(e,t,n){let r=it(t,e),o=e_(n),i=e[wt].rendererFactory,s=ed(e,Xl(e,o,null,Rg(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Rg(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Mg(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ed(e,t){return e[wr]?e[Hu][qe]=t:e[wr]=t,e[Hu]=t,t}function n_(e=1){Ng(Ne(),j(),Qt()+e,!1)}function Ng(e,t,n,r){if(!r)if((t[R]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Bs(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Vs(t,i,0,n)}Jt(n)}var fa=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(fa||{});function Ol(e,t,n,r){let o=x(null);try{let[i,s,a]=e.inputs[n],c=null;(s&fa.SignalBased)!==0&&(c=t[i][Ie]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Qp(t,c,i,r)}finally{x(o)}}var It=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(It||{}),r_;function td(e,t){return r_(e,t)}var Rr=new Set,ha=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(ha||{}),Un=new T(""),Np=new Set;function pa(e){Np.has(e)||(Np.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var nd=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),xg=[0,1,2,3],Og=(()=>{class e{ngZone=y(Pe);scheduler=y(_n);errorHandler=y(yt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Un,{optional:!0})}execute(){let n=this.sequences.size>0;n&&q($.AfterRenderHooksStart),this.executing=!0;for(let r of xg)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&q($.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Mn]??=[]).push(n),_r(r),r[R]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ha.AFTER_NEXT_RENDER,n):n()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),Js=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Mn];t&&(this.view[Mn]=t.filter(n=>n!==this))}};function kg(e,t){let n=t?.injector??y(nt);return pa("NgAfterNextRender"),i_(e,n,t,!0)}function o_(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function i_(e,t,n,r){let o=t.get(nd);o.impl??=t.get(Og);let i=t.get(Un,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(On):null,a=t.get($s,null,{optional:!0}),c=new Js(o.impl,o_(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var s_=new T("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:y(me)})});function Pg(e,t,n){let r=e.get(s_);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function a_(e,t){for(let[n,r]of t)Pg(e,r.animateFns)}function xp(e,t,n,r){let o=e?.[To]?.enter;t!==null&&o&&o.has(n.index)&&a_(r,o)}function Ir(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;ot(o)?c=o:Et(o)&&(u=!0,o=o[rt]);let l=Ke(o);e===0&&r!==null?(xp(a,r,i,n),s==null?Ig(t,r,l):Qs(t,r,l,s||null,!0)):e===1&&r!==null?(xp(a,r,i,n),Qs(t,r,l,s||null,!0)):e===2?Op(a,i,n,d=>{FD(t,l,u,d)}):e===3&&Op(a,i,n,()=>{t.destroyNode(l)}),c!=null&&E_(t,e,n,c,i,r,s)}}function c_(e,t){Lg(e,t),t[rt]=null,t[Ge]=null}function u_(e,t,n,r,o,i){r[rt]=o,r[Ge]=t,ga(e,r,n,1,o,i)}function Lg(e,t){t[wt].changeDetectionScheduler?.notify(9),ga(e,t,t[X],2,null,null)}function l_(e){let t=e[wr];if(!t)return wl(e[A],e);for(;t;){let n=null;if(Et(t))n=t[wr];else{let r=t[Le];r&&(n=r)}if(!n){for(;t&&!t[qe]&&t!==e;)Et(t)&&wl(t[A],t),t=t[ve];t===null&&(t=e),Et(t)&&wl(t[A],t),n=t&&t[qe]}t=n}}function rd(e,t){let n=e[Ro],r=n.indexOf(t);n.splice(r,1)}function Fg(e,t){if(Nn(t))return;let n=t[X];n.destroyNode&&ga(e,t,n,3,null,null),l_(t)}function wl(e,t){if(Nn(t))return;let n=x(null);try{t[R]&=-129,t[R]|=256,t[$e]&&so(t[$e]),h_(e,t),f_(e,t),t[A].type===1&&t[X].destroy();let r=t[Tn];if(r!==null&&ot(t[ve])){r!==t[ve]&&rd(r,t);let o=t[Rn];o!==null&&o.detachView(e)}Nl(t)}finally{x(n)}}function Op(e,t,n,r){let o=e?.[To];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Rr.add(e),Pg(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),d_(e,r)}else e&&Rr.delete(e),r(!1)},o)}function d_(e,t){let n=e[To]?.running;if(n){n.then(()=>{e[To].running=void 0,Rr.delete(e),t(!0)});return}t(!1)}function f_(e,t){let n=e.cleanup,r=t[yr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[yr]=null);let o=t[Ot];if(o!==null){t[Ot]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[So];if(i!==null){t[So]=null;for(let s of i)s.destroy()}}function h_(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Pn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];q($.LifecycleHookStart,a,c);try{c.call(a)}finally{q($.LifecycleHookEnd,a,c)}}else{q($.LifecycleHookStart,o,i);try{i.call(o)}finally{q($.LifecycleHookEnd,o,i)}}}}}function p_(e,t,n){return g_(e,t.parent,n)}function g_(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[rt];if(Zt(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===at.None||o===at.Emulated)return null}return it(r,n)}function m_(e,t,n){return y_(e,t,n)}function v_(e,t,n){return e.type&40?it(e,n):null}var y_=v_,kp;function od(e,t,n,r){let o=p_(e,r,t),i=t[X],s=r.parent||t[Ge],a=m_(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Rp(i,o,n[c],a,!1);else Rp(i,o,n,a,!1);kp!==void 0&&kp(i,r,t,n,o)}function Po(e,t){if(t!==null){let n=t.type;if(n&3)return it(t,e);if(n&4)return kl(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Po(e,r);{let o=e[t.index];return ot(o)?kl(-1,o):Ke(o)}}else{if(n&128)return Po(e,t.next);if(n&32)return td(t,e)()||Ke(e[t.index]);{let r=jg(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=qt(e[We]);return Po(o,r)}else return Po(e,t.next)}}}return null}function jg(e,t){if(t!==null){let r=e[We][Ge],o=t.projection;return r.projection[o]}return null}function kl(e,t){let n=Le+e+1;if(n<t.length){let r=t[n],o=r[A].firstChild;if(o!==null)return Po(r,o)}return t[Yt]}function id(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Kt];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&Ar(Ke(c),r),n.flags|=2),!Wl(n))if(u&8)id(e,t,n.child,r,o,i,!1),Ir(t,e,a,o,c,n,i,r);else if(u&32){let l=td(n,r),d;for(;d=l();)Ir(t,e,a,o,d,n,i,r);Ir(t,e,a,o,c,n,i,r)}else u&16?w_(e,t,r,n,o,i):Ir(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function ga(e,t,n,r,o,i){id(n,r,e.firstChild,t,o,i,!1)}function w_(e,t,n,r,o,i){let s=n[We],c=s[Ge].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ir(t,e,n[Kt],o,l,r,i,n)}else{let u=c,l=s[ve];fg(r)&&(u.flags|=128),id(e,t,u,l,o,i,!0)}}function E_(e,t,n,r,o,i,s){let a=r[Yt],c=Ke(r);a!==c&&Ir(t,e,n,i,a,o,s);for(let u=Le;u<r.length;u++){let l=r[u];ga(l[A],l,e,t,i,a)}}function D_(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:It.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=It.Important),e.setStyle(n,r,o,i))}}function $g(e,t,n,r,o){let i=Qt(),s=r&2;try{Jt(-1),s&&t.length>ue&&Ng(e,t,ue,!1);let a=s?$.TemplateUpdateStart:$.TemplateCreateStart;q(a,o,n),n(r,o)}finally{Jt(i);let a=s?$.TemplateUpdateEnd:$.TemplateCreateEnd;q(a,o,n)}}function ma(e,t,n){A_(e,t,n),(n.flags&64)===64&&R_(e,t,n)}function va(e,t,n=it){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function __(e,t,n,r){let i=r.get(yg,vg)||n===at.ShadowDom||n===at.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return b_(s),s}function b_(e){C_(e)}var C_=()=>null;function I_(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ug(e,t,n,r,o,i){let s=t[A];if(ud(e,s,t,n,r)){Zt(e)&&T_(t,e.index);return}e.type&3&&(n=I_(n)),S_(e,t,n,r,o,i)}function S_(e,t,n,r,o,i){if(e.type&3){let s=it(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function T_(e,t){let n=Ye(t,e);n[R]&16||(n[R]|=64)}function A_(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Zt(n)&&t_(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ks(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Ys(t,e,s,n);if(Ar(c,t),i!==null&&O_(t,s-r,c,a,n,i),Dt(a)){let u=Ye(n.index,t);u[_e]=Ys(t,e,s,n)}}}function R_(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=lp();try{Jt(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];ks(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&M_(c,u)}}finally{Jt(-1),ks(s)}}function M_(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function sd(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];WD(t,i.selectors,!1)&&(r??=[],Dt(i)?r.unshift(i):r.push(i))}return r}function N_(e,t,n,r,o,i){let s=it(e,t);x_(t[X],s,i,e.value,n,r,o)}function x_(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?In(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function O_(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Ol(r,n,c,u)}}function ad(e,t,n,r,o){let i=ue+n,s=t[A],a=o(s,t,e,r,n);t[i]=a,br(e,!0);let c=e.type===2;return c?(Sg(t[X],a,e),(Qh()===0||Er(e))&&Ar(a,t),Jh()):Ar(a,t),js()&&(!c||!Wl(e))&&od(s,t,a,e),e}function cd(e){let t=e;return rl()?rp():(t=t.parent,br(t,!1)),t}function k_(e,t){let n=e[Kt];if(!n)return;let r;try{r=n.get(_t,null)}catch{r=null}r?.(t)}function ud(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Ol(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];Ol(l,u,r,o),a=!0}return a}function P_(e,t){let n=Ye(t,e),r=n[A];L_(r,n);let o=n[rt];o!==null&&n[Co]===null&&(n[Co]=wg(o,n[Kt])),q($.ComponentStart);try{ld(r,n,n[_e])}finally{q($.ComponentEnd,n[_e])}}function L_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ld(e,t,n){Ps(t);try{let r=e.viewQuery;r!==null&&xl(1,r,n);let o=e.template;o!==null&&$g(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Rn]?.finishViewCreation(e),e.staticContentQueries&&Eg(e,t),e.staticViewQueries&&xl(2,e.viewQuery,n);let i=e.components;i!==null&&F_(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[R]&=-5,Ls()}}function F_(e,t){for(let n=0;n<t.length;n++)P_(e,t[n])}function j_(e,t,n,r){let o=x(null);try{let i=t.tView,a=e[R]&4096?4096:16,c=Xl(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Tn]=u;let l=e[Rn];return l!==null&&(c[Rn]=l.createEmbeddedView(i)),ld(i,c,n),c}finally{x(o)}}function Pp(e,t){return!t||t.firstChild===null||fg(e)}function Fo(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Ke(i)),ot(i)&&Bg(i,r);let s=n.type;if(s&8)Fo(e,t,n.child,r);else if(s&32){let a=td(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=jg(t,n);if(Array.isArray(a))r.push(...a);else{let c=qt(t[We]);Fo(c[A],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Bg(e,t){for(let n=Le;n<e.length;n++){let r=e[n],o=r[A].firstChild;o!==null&&Fo(r[A],r,o,t)}e[Yt]!==e[rt]&&t.push(e[Yt])}function Vg(e){if(e[Mn]!==null){for(let t of e[Mn])t.impl.addSequence(t);e[Mn].length=0}}var Hg=[];function $_(e){return e[$e]??U_(e)}function U_(e){let t=Hg.pop()??Object.create(V_);return t.lView=e,t}function B_(e){e.lView[$e]!==e&&(e.lView=null,Hg.push(e))}var V_=K(w({},ro),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{_r(e.lView)},consumerOnSignalRead(){this.lView[$e]=this}});function H_(e){let t=e[$e]??Object.create(z_);return t.lView=e,t}var z_=K(w({},ro),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=qt(e.lView);for(;t&&!zg(t[A]);)t=qt(t);t&&Qu(t)},consumerOnSignalRead(){this.lView[$e]=this}});function zg(e){return e.type!==2}function qg(e){if(e[So]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[So])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[R]&8192)}}var q_=100;function Gg(e,t=0){let r=e[wt].rendererFactory,o=!1;o||r.begin?.();try{G_(e,t)}finally{o||r.end?.()}}function G_(e,t){let n=ol();try{il(!0),Pl(e,t);let r=0;for(;Mo(e);){if(r===q_)throw new E(103,!1);r++,Pl(e,1)}}finally{il(n)}}function W_(e,t,n,r){if(Nn(t))return;let o=t[R],i=!1,s=!1;Ps(t);let a=!0,c=null,u=null;i||(zg(e)?(u=$_(t),c=io(u)):Bi()===null?(a=!1,u=H_(t),c=io(u)):t[$e]&&(so(t[$e]),t[$e]=null));try{Zu(t),ap(e.bindingStartIndex),n!==null&&$g(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&Bs(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Vs(t,f,0,null),vl(t,0)}if(s||K_(t),qg(t),Wg(t,0),e.contentQueries!==null&&Eg(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&Bs(t,f)}else{let f=e.contentHooks;f!==null&&Vs(t,f,1),vl(t,1)}Z_(e,t);let d=e.components;d!==null&&Yg(t,d,0);let h=e.viewQuery;if(h!==null&&xl(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&Bs(t,f)}else{let f=e.viewHooks;f!==null&&Vs(t,f,2),vl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Rs]){for(let f of t[Rs])f();t[Rs]=null}i||(Vg(t),t[R]&=-73)}catch(l){throw i||_r(t),l}finally{u!==null&&(Vi(u,c),a&&B_(u)),Ls()}}function Wg(e,t){for(let n=pg(e);n!==null;n=gg(n))for(let r=Le;r<n.length;r++){let o=n[r];Kg(o,t)}}function K_(e){for(let t=pg(e);t!==null;t=gg(t)){if(!(t[R]&2))continue;let n=t[Ro];for(let r=0;r<n.length;r++){let o=n[r];Qu(o)}}}function Y_(e,t,n){q($.ComponentStart);let r=Ye(t,e);try{Kg(r,n)}finally{q($.ComponentEnd,r[_e])}}function Kg(e,t){Ns(e)&&Pl(e,t)}function Pl(e,t){let r=e[A],o=e[R],i=e[$e],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Hi(i)),s||=!1,i&&(i.dirty=!1),e[R]&=-9217,s)W_(r,e,r.template,e[_e]);else if(o&8192){let a=x(null);try{qg(e),Wg(e,1);let c=r.components;c!==null&&Yg(e,c,1),Vg(e)}finally{x(a)}}}function Yg(e,t,n){for(let r=0;r<t.length;r++)Y_(e,t[r],n)}function Z_(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Jt(~o);else{let i=o,s=n[++r],a=n[++r];up(s,i);let c=t[i];q($.HostBindingsUpdateStart,c);try{a(2,c)}finally{q($.HostBindingsUpdateEnd,c)}}}}finally{Jt(-1)}}function dd(e,t){let n=ol()?64:1088;for(e[wt].changeDetectionScheduler?.notify(t);e;){e[R]|=n;let r=qt(e);if(Dr(e)&&!r)return e;e=r}return null}function Zg(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Q_(e,t,n,r=!0){let o=t[A];if(J_(o,t,e,n),r){let s=kl(n,e),a=t[X],c=a.parentNode(e[Yt]);c!==null&&u_(o,e[Ge],a,t,c,s)}let i=t[Co];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ll(e,t){if(e.length<=Le)return;let n=Le+t,r=e[n];if(r){let o=r[Tn];o!==null&&o!==e&&rd(o,r),t>0&&(e[n-1][qe]=r[qe]);let i=Eo(e,Le+t);c_(r[A],r);let s=i[Rn];s!==null&&s.detachView(i[A]),r[ve]=null,r[qe]=null,r[R]&=-129}return r}function J_(e,t,n,r){let o=Le+r,i=n.length;r>0&&(n[o-1][qe]=t),r<i-Le?(t[qe]=n[o],Fu(n,Le+r,t)):(n.push(t),t[qe]=null),t[ve]=n;let s=t[Tn];s!==null&&n!==s&&Qg(s,t);let a=t[Rn];a!==null&&a.insertView(e),xs(t),t[R]|=128}function Qg(e,t){let n=e[Ro],r=t[ve];if(Et(r))e[R]|=2;else{let o=r[ve][We];t[We]!==o&&(e[R]|=2)}n===null?e[Ro]=[t]:n.push(t)}var en=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[A];return Fo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[_e]}set context(t){this._lView[_e]=t}get destroyed(){return Nn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ve];if(ot(t)){let n=t[Ao],r=n?n.indexOf(this):-1;r>-1&&(Ll(t,r),Eo(n,r))}this._attachedToViewContainer=!1}Fg(this._lView[A],this._lView)}onDestroy(t){Ju(this._lView,t)}markForCheck(){dd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){xs(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,Gg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Dr(this._lView),n=this._lView[Tn];n!==null&&!t&&rd(n,this._lView),Lg(this._lView[A],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t;let n=Dr(this._lView),r=this._lView[Tn];r!==null&&!n&&Qg(r,this._lView),xs(this._lView)}};var xr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=X_;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=j_(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new en(i)}}return e})();function X_(){return Jg(be(),j())}function Jg(e,t){return e.type&4?new xr(t,e,ca(e,t)):null}function ya(e,t,n,r,o){let i=e.data[t];if(i===null)i=eb(e,t,n,r,o),cp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=np();i.injectorIndex=s===null?-1:s.injectorIndex}return br(i,!0),i}function eb(e,t,n,r,o){let i=nl(),s=rl(),a=s?i:i&&i.parent,c=e.data[t]=nb(e,a,n,t,r,o);return tb(e,c,i,s),c}function tb(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function nb(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Xh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rb=()=>null;function Lp(e,t){return rb(e,t)}var Xg=class{},wa=class{},Fl=class{resolveComponentFactory(t){throw new E(917,!1)}},Vo=class{static NULL=new Fl},Ln=class{},em=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>ob()}return e})();function ob(){let e=j(),t=be(),n=Ye(t.index,e);return(Et(n)?n:e)[X]}var tm=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>null})}return e})();var Hs={},jl=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Hs,r);return o!==Hs||n===Hs?o:this.parentInjector.get(t,n,r)}};function Xs(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Iu(o,a);else if(i==2){let c=a,u=t[++s];r=Iu(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ye(e,t=0){let n=j();if(n===null)return O(e,t);let r=be();return ug(r,n,ge(e),t)}function nm(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}ab(e,t,n,a,i,c,u)}i!==null&&r!==null&&ib(n,r,i)}function ib(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new E(-301,!1);r.push(t[o],i)}}function sb(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ab(e,t,n,r,o,i,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&Dt(f)&&(c=f,sb(e,n,h)),Rl(Ks(n,t),e,f.type)}hb(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Mg(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Tr(n.mergedAttrs,f.hostAttrs),ub(e,n,t,d,f),fb(d,f,o),s!==null&&s.has(f)){let[g,v]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,v+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}cb(e,n,i)}function cb(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Fp(0,t,o,r),Fp(1,t,o,r),$p(t,r,!1);else{let i=n.get(o);jp(0,t,i,r),jp(1,t,i,r),$p(t,r,!0)}}}function Fp(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),rm(t,i)}}function jp(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),rm(t,s)}}function rm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function $p(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||Ql(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ub(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=zt(o.type,!0)),s=new Pn(i,Dt(o),ye,null);e.blueprint[r]=s,n[r]=s,lb(e,t,r,Mg(e,n,o.hostVars,ct),o)}function lb(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;db(s)!=a&&s.push(a),s.push(n,r,i)}}function db(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function fb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Dt(t)&&(n[""]=e)}}function hb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fd(e,t,n,r,o,i,s,a){let c=t[A],u=c.consts,l=xn(u,s),d=ya(c,e,n,r,l);return i&&nm(c,t,d,xn(u,a),o),d.mergedAttrs=Tr(d.mergedAttrs,d.attrs),d.attrs!==null&&Xs(d,d.attrs,!1),d.mergedAttrs!==null&&Xs(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function hd(e,t){tg(e,t),qu(t)&&e.queries.elementEnd(t)}function pb(e,t,n,r,o,i){let s=t.consts,a=xn(s,o),c=ya(t,e,n,r,a);if(c.mergedAttrs=Tr(c.mergedAttrs,c.attrs),i!=null){let u=xn(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Xs(c,c.attrs,!1),c.mergedAttrs!==null&&Xs(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function pd(e){return im(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function om(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function im(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function gb(e,t,n){return e[t]=n}function Fn(e,t,n){if(n===ct)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function sm(e,t,n,r){let o=Fn(e,t,n);return Fn(e,t+1,r)||o}function El(e,t,n){return function r(o){let i=Zt(e)?Ye(e.index,t):t;dd(i,5);let s=t[_e],a=Up(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Up(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Up(e,t,n,r){let o=x(null);try{return q($.OutputStart,t,n),n(r)!==!1}catch(i){return k_(e,i),!1}finally{q($.OutputEnd,t,n),x(o)}}function mb(e,t,n,r,o,i,s,a){let c=Er(e),u=!1,l=null;if(!r&&c&&(l=yb(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=it(e,n),h=r?r(d):d;TD(n,h,i,a);let f=o.listen(h,i,a);if(!vb(i)){let p=r?g=>r(Ke(g[e.index])):e.index;am(p,t,n,i,a,f,!1)}}return u}function vb(e){return e.startsWith("animation")||e.startsWith("transition")}function yb(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[yr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function am(e,t,n,r,o,i,s){let a=t.firstCreatePass?Zh(t):null,c=Yh(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function Bp(e,t,n,r,o,i){let s=t[n],a=t[A],u=a.data[n].outputs[r],d=s[u].subscribe(i);am(e.index,a,t,o,i,d,!0)}var $l=Symbol("BINDING");var ea=class extends Vo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Gt(t);return new Mr(n,this.ngModule)}};function wb(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&fa.SignalBased)!==0};return o&&(i.transform=o),i})}function Eb(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Db(e,t,n){let r=t instanceof me?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new jl(n,r):n}function _b(e){let t=e.get(Ln,null);if(t===null)throw new E(407,!1);let n=e.get(tm,null),r=e.get(_n,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function bb(e,t){let n=cm(e);return Cg(t,n,n==="svg"?Gu:n==="math"?qh:null)}function cm(e){return(e.selectors[0][0]||"div").toLowerCase()}var Mr=class extends wa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Eb(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=QD(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){q($.DynamicComponentStart);let a=x(null);try{let c=this.componentDef,u=Cb(r,c,s,i),l=Db(c,o||this.ngModule,t),d=_b(l),h=d.rendererFactory.createRenderer(null,c),f=r?__(h,r,c.encapsulation,l):bb(c,h),p=s?.some(Vp)||i?.some(m=>typeof m!="function"&&m.bindings.some(Vp)),g=Xl(null,u,null,512|Rg(c),null,null,d,h,l,null,wg(f,l,!0));g[ue]=f,Ps(g);let v=null;try{let m=fd(ue,g,2,"#host",()=>u.directiveRegistry,!0,0);Sg(h,f,m),Ar(f,g),ma(u,g,m),Kl(u,m,g),hd(u,m),n!==void 0&&Sb(m,this.ngContentSelectors,n),v=Ye(m.index,g),g[_e]=v[_e],ld(u,g,null)}catch(m){throw v!==null&&Nl(v),Nl(g),m}finally{q($.DynamicComponentEnd),Ls()}return new ta(this.componentType,g,!!p)}finally{x(a)}}};function Cb(e,t,n,r){let o=e?["ng-version","21.0.6"]:JD(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[$l].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[$l].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=ku(d);c.push(h)}return Jl(0,null,Ib(i,s),1,a,c,null,null,null,[o],null)}function Ib(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Vp(e){let t=e[$l].kind;return t==="input"||t==="twoWay"}var ta=class extends Xg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ms(n[A],ue),this.location=ca(this._tNode,n),this.instance=Ye(this._tNode.index,n)[_e],this.hostView=this.changeDetectorRef=new en(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=ud(r,o[A],o,t,n);this.previousInputValues.set(t,n);let s=Ye(r.index,o);dd(s,1)}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Sb(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var tn=(()=>{class e{static __NG_ELEMENT_ID__=Tb}return e})();function Tb(){let e=be();return Rb(e,j())}var Ab=tn,um=class extends Ab{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Hl(this._hostTNode,this._hostLView);if(rg(t)){let n=Gs(t,this._hostLView),r=qs(t),o=n[A].data[r+8];return new kn(o,n)}else return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Hp(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Lp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Pp(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!eD(t),u;if(c)u=n;else{let v=n||{};u=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let l=c?t:new Mr(Gt(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(me,null);m&&(i=m)}let h=Gt(l.componentType??{}),f=Lp(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,Pp(this._hostTNode,f)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Gh(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[ve],u=new um(c,c[Ge],c[ve]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Q_(s,o,i,r),t.attachToViewContainerRef(),Fu(Dl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Hp(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ll(this._lContainer,n);r&&(Eo(Dl(this._lContainer),n),Fg(r[A],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ll(this._lContainer,n);return r&&Eo(Dl(this._lContainer),n)!=null?new en(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Hp(e){return e[Ao]}function Dl(e){return e[Ao]||(e[Ao]=[])}function Rb(e,t){let n,r=t[e.index];return ot(r)?n=r:(n=Zg(r,t,null,e),t[e.index]=n,ed(t,n)),Nb(n,t,e,r),new um(n,e,t)}function Mb(e,t){let n=e[X],r=n.createComment(""),o=it(t,e),i=n.parentNode(o);return Qs(n,i,r,n.nextSibling(o),!1),r}var Nb=kb,xb=()=>!1;function Ob(e,t,n){return xb(e,t,n)}function kb(e,t,n,r){if(e[Yt])return;let o;n.type&8?o=Ke(r):o=Mb(t,n),e[Yt]=o}var jn=class{},Ea=class{};var na=class extends jn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ea(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Ou(t);this._bootstrapComponents=Tg(i.bootstrap),this._r3Injector=ll(t,n,[{provide:jn,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],kt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ra=class extends Ea{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new na(this.moduleType,t,[])}};var jo=class extends jn{injector;componentFactoryResolver=new ea(this);instance=null;constructor(t){super();let n=new Dn([...t.providers,{provide:jn,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],t.parent||bo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ho(e,t,n=null){return new jo({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Pb=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Uu(!1,n.type),o=r.length>0?Ho([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(O(me))})}return e})();function gd(e){return Uo(()=>{let t=lm(e),n=K(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ql.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(Pb).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||at.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&pa("NgStandalone"),dm(n);let r=e.dependencies;return n.directiveDefs=zp(r,Lb),n.pipeDefs=zp(r,xh),n.id=$b(n),n})}function Lb(e){return Gt(e)||ku(e)}function zo(e){return Uo(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Fb(e,t){if(e==null)return Wt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=fa.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function jb(e){if(e==null)return Wt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function nn(e){return Uo(()=>{let t=lm(e);return dm(t),t})}function md(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function lm(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Wt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Fb(e.inputs,t),outputs:jb(e.outputs),debugInfo:null}}function dm(e){e.features?.forEach(t=>t(e))}function zp(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function $b(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ub(e){return Object.getPrototypeOf(e.prototype).constructor}function fm(e){let t=Ub(e.type),n=!0,r=[e];for(;t;){let o;if(Dt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=_l(e.inputs),s.declaredInputs=_l(e.declaredInputs),s.outputs=_l(e.outputs);let a=o.hostBindings;a&&qb(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&Hb(e,c),u&&zb(e,u),Bb(e,o),Nh(e.outputs,o.outputs),Dt(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===fm&&(n=!1)}}t=Object.getPrototypeOf(t)}Vb(r)}function Bb(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Vb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Tr(o.hostAttrs,n=Tr(n,o.hostAttrs))}}function _l(e){return e===Wt?{}:e===je?[]:e}function Hb(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function zb(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function qb(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Gb(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Tr(e.mergedAttrs,e.attrs);let l=e.tView=Jl(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),br(e,!1);let c=Kb(n,t,e,r);js()&&od(n,t,c,e),Ar(c,t);let u=Zg(c,t,c,e);t[r+ue]=u,ed(t,u),Ob(u,e,t)}function Wb(e,t,n,r,o,i,s,a,c,u,l){let d=n+ue,h;return t.firstCreatePass?(h=ya(t,d,4,s||null,a||null),Os()&&nm(t,e,h,xn(t.consts,u),sd),tg(t,h)):h=t.data[d],Gb(h,e,t,n,r,o,i,c),Er(h)&&ma(t,e,h),u!=null&&va(e,h,l),h}function hm(e,t,n,r,o,i,s,a){let c=j(),u=Ne(),l=xn(u.consts,i);return Wb(c,u,e,t,n,r,o,l,void 0,s,a),hm}var Kb=Yb;function Yb(e,t,n,r){return xo(!0),t[X].createComment("")}var vd=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function pm(e){return typeof e=="function"&&e[Ie]!==void 0}function yd(e){return pm(e)&&typeof e.set=="function"}var wd=new T("");function Or(e){return!!e&&typeof e.then=="function"}function Ed(e){return!!e&&typeof e.subscribe=="function"}var gm=new T("");var Dd=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(gm,{optional:!0})??[];injector=y(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Me(this.injector,o);if(Or(i))n.push(i);else if(Ed(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Da=new T("");function mm(){Kc(()=>{let e="";throw new E(600,e)})}function vm(e){return e.isBoundToModule}var Zb=10;var kr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(_t);afterRenderManager=y(nd);zonelessEnabled=y(Oo);rootEffectScheduler=y(ml);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new De;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Xt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(n=>!n))}constructor(){y(Un,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=nt.NULL){return this._injector.get(Pe).run(()=>{q($.BootstrapComponentStart);let s=n instanceof wa;if(!this._injector.get(Dd).done){let p="";throw new E(405,p)}let c;s?c=n:c=this._injector.get(Vo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=vm(c)?void 0:this._injector.get(jn),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(wd,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Lo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),q($.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){q($.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ha.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw q($.ChangeDetectionEnd),new E(101,!1);let n=x(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(n),this.afterTick.next(),q($.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ln,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Zb;){q($.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{q($.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Mo(o))continue;let i=r&&!this.zonelessEnabled?0:1;Gg(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Mo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Lo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Da,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ym(e,t,n,r){let o=j(),i=No();if(Fn(o,i,t)){let s=Ne(),a=Fs();N_(a,o,e,t,n,r)}return ym}var wP=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function wm(e,t,n){let r=j(),o=No();if(Fn(r,o,t)){let i=Ne(),s=Fs();Ug(s,r,e,t,r[X],n)}return wm}function qp(e,t,n,r,o){ud(t,e,n,o?"class":"style",r)}function _d(e,t,n,r){let o=j(),i=o[A],s=e+ue,a=i.firstCreatePass?fd(s,o,2,t,sd,Os(),n,r):i.data[s];if(ad(a,o,e,t,_m),Er(a)){let c=o[A];ma(c,o,a),Kl(c,a,o)}return r!=null&&va(o,a),_d}function bd(){let e=Ne(),t=be(),n=cd(t);return e.firstCreatePass&&hd(e,n),el(n)&&tl(),Xu(),n.classesWithoutHost!=null&&sD(n)&&qp(e,n,j(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&aD(n)&&qp(e,n,j(),n.stylesWithoutHost,!1),bd}function _a(e,t,n,r){return _d(e,t,n,r),bd(),_a}function Em(e,t,n,r){let o=j(),i=o[A],s=e+ue,a=i.firstCreatePass?pb(s,i,2,t,n,r):i.data[s];return ad(a,o,e,t,_m),r!=null&&va(o,a),Em}function Dm(){let e=be(),t=cd(e);return el(t)&&tl(),Xu(),Dm}var _m=(e,t,n,r,o)=>(xo(!0),Cg(t[X],r,vp()));function bm(e,t,n){let r=j(),o=r[A],i=e+ue,s=o.firstCreatePass?fd(i,r,8,"ng-container",sd,Os(),t,n):o.data[i];if(ad(s,r,e,"ng-container",Qb),Er(s)){let a=r[A];ma(a,r,s),Kl(a,s,r)}return n!=null&&va(r,s),bm}function Cm(){let e=Ne(),t=be(),n=cd(t);return e.firstCreatePass&&hd(e,n),Cm}var Qb=(e,t,n,r,o)=>(xo(!0),LD(t[X],""));function Jb(){return j()}var ko=void 0;function Xb(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var eC=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",ko,ko,ko],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Xb],bl={};function Ue(e){let t=tC(e),n=Gp(t);if(n)return n;let r=t.split("-")[0];if(n=Gp(r),n)return n;if(r==="en")return eC;throw new E(701,!1)}function Gp(e){return e in bl||(bl[e]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[e]),bl[e]}var re=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(re||{});function tC(e){return e.toLowerCase().replace(/_/g,"-")}var qo="en-US";var nC=qo;function Im(e){typeof e=="string"&&(nC=e.toLowerCase().replace(/_/g,"-"))}function Sm(e,t,n){let r=j(),o=Ne(),i=be();return Tm(o,r,r[X],i,e,t,n),Sm}function Tm(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=El(r,t,i),mb(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=El(r,t,i),Bp(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=El(r,t,i),Bp(r,t,d,o,o,c)}}function rC(e=1){return gp(e)}function oC(e){let t=op();return Ku(t,ue+e)}function Us(e,t){return e<<17|t<<2}function $n(e){return e>>17&32767}function iC(e){return(e&2)==2}function sC(e,t){return e&131071|t<<17}function Ul(e){return e|2}function Nr(e){return(e&131068)>>2}function Cl(e,t){return e&-131069|t<<2}function aC(e){return(e&1)===1}function Bl(e){return e|1}function cC(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=$n(s),c=Nr(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||mr(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=$n(e[a+1]);e[r+1]=Us(h,a),h!==0&&(e[h+1]=Cl(e[h+1],r)),e[a+1]=sC(e[a+1],r)}else e[r+1]=Us(a,0),a!==0&&(e[a+1]=Cl(e[a+1],r)),a=r;else e[r+1]=Us(c,0),a===0?a=r:e[c+1]=Cl(e[c+1],r),c=r;u&&(e[r+1]=Ul(e[r+1])),Wp(e,l,r,!0),Wp(e,l,r,!1),uC(t,l,e,r,i),s=Us(a,c),i?t.classBindings=s:t.styleBindings=s}function uC(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&mr(i,t)>=0&&(n[r+1]=Bl(n[r+1]))}function Wp(e,t,n,r){let o=e[n+1],i=t===null,s=r?$n(o):Nr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];lC(c,t)&&(a=!0,e[s+1]=r?Bl(u):Ul(u)),s=r?$n(u):Nr(u)}a&&(e[n+1]=r?Ul(o):Bl(o))}function lC(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?mr(e,t)>=0:!1}function Am(e,t,n){return Mm(e,t,n,!1),Am}function Rm(e,t){return Mm(e,t,null,!0),Rm}function Mm(e,t,n,r){let o=j(),i=Ne(),s=sl(2);if(i.firstUpdatePass&&fC(i,e,s,r),t!==ct&&Fn(o,s,t)){let a=i.data[Qt()];vC(i,a,o,o[X],e,o[s+1]=yC(t,n),r,s)}}function dC(e,t){return t>=e.expandoStartIndex}function fC(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Qt()],s=dC(e,n);wC(i,r)&&t===null&&!s&&(t=!1),t=hC(o,i,t,r),cC(o,i,t,n,s,r)}}function hC(e,t,n,r){let o=dp(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Il(null,e,t,n,r),n=$o(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Il(o,e,t,n,r),i===null){let c=pC(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Il(null,e,t,c[1],r),c=$o(c,t.attrs,r),gC(e,t,r,c))}else i=mC(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function pC(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Nr(r)!==0)return e[$n(r)]}function gC(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[$n(o)]=r}function mC(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=$o(r,s,n)}return $o(r,t.attrs,n)}function Il(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=$o(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function $o(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),jh(e,s,n?!0:t[++i]))}return e===void 0?null:e}function vC(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=aC(u)?Kp(c,t,n,o,Nr(u),s):void 0;if(!oa(l)){oa(i)||iC(u)&&(i=Kp(c,null,n,o,a,s));let d=Wu(Qt(),n);D_(r,s,d,o,i)}}function Kp(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===ct&&(h=d?je:void 0);let f=d?As(h,r):l===r?h:void 0;if(u&&!oa(f)&&(f=As(c,r)),oa(f)&&(a=f,s))return a;let p=e[o+1];o=s?$n(p):Nr(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=As(c,r))}return a}function oa(e){return e!==void 0}function yC(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=kt(Yl(e)))),e}function wC(e,t){return(e.flags&(t?8:16))!==0}function EC(e,t=""){let n=j(),r=Ne(),o=e+ue,i=r.firstCreatePass?ya(r,o,1,t,null):r.data[o],s=DC(r,n,i,t,e);n[o]=s,js()&&od(r,n,s,i),br(i,!1)}var DC=(e,t,n,r,o)=>(xo(!0),kD(t[X],r));function Nm(e,t,n,r=""){return Fn(e,No(),n)?t+In(n)+r:ct}function _C(e,t,n,r,o,i=""){let s=sp(),a=sm(e,s,n,o);return sl(2),a?t+In(n)+r+In(o)+i:ct}function xm(e){return Cd("",e),xm}function Cd(e,t,n){let r=j(),o=Nm(r,e,t,n);return o!==ct&&km(r,Qt(),o),Cd}function Om(e,t,n,r,o){let i=j(),s=_C(i,e,t,n,r,o);return s!==ct&&km(i,Qt(),s),Om}function km(e,t,n){let r=Wu(t,e);PD(e[X],r,n)}function Pm(e,t,n){yd(t)&&(t=t());let r=j(),o=No();if(Fn(r,o,t)){let i=Ne(),s=Fs();Ug(s,r,e,t,r[X],n)}return Pm}function bC(e,t){let n=yd(e);return n&&e.set(t),n}function Lm(e,t){let n=j(),r=Ne(),o=be();return Tm(r,n,n[X],o,e,t),Lm}function CC(e,t,n=""){return Nm(j(),e,t,n)}function Yp(e,t,n){let r=Ne();r.firstCreatePass&&Fm(t,r.data,r.blueprint,Dt(e),n)}function Fm(e,t,n,r,o){if(e=ge(e),Array.isArray(e))for(let i=0;i<e.length;i++)Fm(e[i],t,n,r,o);else{let i=Ne(),s=j(),a=be(),c=En(e)?e:ge(e.provide),u=Vu(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(En(e)||!e.multi){let f=new Pn(u,o,ye,null),p=Tl(c,t,o?l:l+h,d);p===-1?(Rl(Ks(a,s),i,c),Sl(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Tl(c,t,l+h,d),p=Tl(c,t,l,l+h),g=f>=0&&n[f],v=p>=0&&n[p];if(o&&!v||!o&&!g){Rl(Ks(a,s),i,c);let m=TC(o?SC:IC,n.length,o,r,u,e);!o&&v&&(n[p].providerFactory=m),Sl(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=jm(n[o?p:f],u,!o&&r);Sl(i,e,f>-1?f:p,m)}!o&&r&&v&&n[p].componentProviders++}}}function Sl(e,t,n,r){let o=En(t),i=Vh(t);if(o||i){let c=(i?ge(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function jm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tl(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function IC(e,t,n,r,o){return Vl(this.multi,[])}function SC(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ys(r,r[A],this.providerFactory.index,o);s=c.slice(0,a),Vl(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Vl(i,s);return s}function Vl(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function TC(e,t,n,r,o,i){let s=new Pn(e,n,ye,null);return s.multi=[],s.index=t,s.componentProviders=0,jm(s,o,r&&!n),s}function AC(e,t){return n=>{n.providersResolver=(r,o)=>Yp(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>Yp(r,o?o(t):t,!0))}}function RC(e,t){let n=e[t];return n===ct?void 0:n}function MC(e,t,n,r,o,i,s){let a=t+n;return sm(e,a,o,i)?gb(e,a+2,s?r.call(s,o,i):r(o,i)):RC(e,a+2)}function NC(e,t){let n=Ne(),r,o=e+ue;n.firstCreatePass?(r=xC(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=zt(r.type,!0)),s,a=Ae(ye);try{let c=Ws(!1),u=i();return Ws(c),Yu(n,j(),o,u),u}finally{Ae(a)}}function xC(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function OC(e,t,n,r){let o=e+ue,i=j(),s=Ku(i,o);return kC(i,o)?MC(i,ip(),t,s.transform,n,r,s):s.transform(n,r)}function kC(e,t){return e[A].data[t].pure}function PC(e,t){return Jg(e,t)}var ia=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Id=(()=>{class e{compileModuleSync(n){return new ra(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Ou(n),i=Tg(o.declarations).reduce((s,a)=>{let c=Gt(a);return c&&s.push(new Mr(c)),s},[]);return new ia(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $m=(()=>{class e{applicationErrorHandler=y(_t);appRef=y(kr);taskService=y(Xt);ngZone=y(Pe);zonelessEnabled=y(Oo);tracing=y(Un,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(gl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?fl:dl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fl(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Um(){return[{provide:_n,useExisting:$m},{provide:Pe,useClass:yo},{provide:Oo,useValue:!0}]}function LC(){return typeof $localize<"u"&&$localize.locale||qo}var Go=new T("",{factory:()=>y(Go,{optional:!0,skipSelf:!0})||LC()});function FC(e,t){return zi(e,t?.equal)}var zm=Symbol("InputSignalNode#UNSET"),ZC=K(w({},qi),{transformFn:void 0,applyValueToInputSignal(e,t){ao(e,t)}});function qm(e,t){let n=Object.create(ZC);n.value=e,n.transformFn=t?.transform;function r(){if(oo(n),n.value===zm){let o=null;throw new E(-950,o)}return n.value}return r[Ie]=n,r}function Bm(e,t){return qm(e,t)}function QC(e){return qm(zm,e)}var Gm=(Bm.required=QC,Bm);var Sd=new T(""),JC=new T("");function Wo(e){return!e.moduleRef}function XC(e){let t=Wo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Pe);return n.run(()=>{Wo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(_t),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Wo(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Sd);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Sd);s.add(i),e.moduleRef.onDestroy(()=>{Lo(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return tI(r,n,()=>{let i=t.get(Xt),s=i.add(),a=t.get(Dd);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Go,qo);if(Im(c||qo),!t.get(JC,!0))return Wo(e)?t.get(kr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Wo(e)){let l=t.get(kr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return eI?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var eI;function tI(e,t,n){try{let r=n();return Or(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var ba=null;function nI(e=[],t){return nt.create({name:t,providers:[{provide:_o,useValue:"platform"},{provide:Sd,useValue:new Set([()=>ba=null])},...e]})}function rI(e=[]){if(ba)return ba;let t=nI(e);return ba=t,mm(),oI(t),t}function oI(e){let t=e.get(la,null);Me(e,()=>{t?.forEach(n=>n())})}var Nd=(()=>{class e{static __NG_ELEMENT_ID__=iI}return e})();function iI(e){return sI(be(),j(),(e&16)===16)}function sI(e,t,n){if(Zt(e)&&!n){let r=Ye(e.index,t);return new en(r,r)}else if(e.type&175){let r=t[We];return new en(r,t)}return null}var Td=class{constructor(){}supports(t){return pd(t)}create(t){return new Ad(t)}},aI=(e,t)=>t,Ad=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||aI}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Vm(r,o,i)?n:r,a=Vm(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!pd(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,om(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Rd(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ca),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Rd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Md=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ca=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Md,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Vm(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Hm(){return new xd([new Td])}var xd=(()=>{class e{factories;static \u0275prov=I({token:e,providedIn:"root",factory:Hm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=y(e,{optional:!0,skipSelf:!0});return e.create(n,r||Hm())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new E(901,!1)}}return e})();function Wm(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;q($.BootstrapApplicationStart);try{let i=o?.injector??rI(r),s=[Um(),Dp,...n||[]],a=new jo({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return XC({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{q($.BootstrapApplicationEnd)}}function cI(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Km=null;function Pt(){return Km}function Od(e){Km??=e}var Ko=class{},Ia=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(Ym),providedIn:"platform"})}return e})();var Ym=(()=>{class e extends Ia{_location;_history;_doc=y(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pt().getBaseHref(this._doc)}onPopState(n){let r=Pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Jm(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Zm(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function on(e){return e&&e[0]!=="?"?`?${e}`:e}var Sa=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(lI),providedIn:"root"})}return e})(),uI=new T(""),lI=(()=>{class e extends Sa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Jm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+on(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+on(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+on(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(O(Ia),O(uI,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pr=(()=>{class e{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hI(Zm(Qm(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+on(r))}normalize(n){return e.stripTrailingSlash(fI(this._basePath,Qm(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+on(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+on(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=on;static joinWithSlash=Jm;static stripTrailingSlash=Zm;static \u0275fac=function(r){return new(r||e)(O(Sa))};static \u0275prov=I({token:e,factory:()=>dI(),providedIn:"root"})}return e})();function dI(){return new Pr(O(Sa))}function fI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Qm(e){return e.replace(/\/index.html$/,"")}function hI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Ce=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(Ce||{}),G=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(G||{}),Fe=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(Fe||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nv(e){return Ue(e)[re.LocaleId]}function rv(e,t,n){let r=Ue(e),o=[r[re.DayPeriodsFormat],r[re.DayPeriodsStandalone]],i=Ze(o,t);return Ze(i,n)}function ov(e,t,n){let r=Ue(e),o=[r[re.DaysFormat],r[re.DaysStandalone]],i=Ze(o,t);return Ze(i,n)}function iv(e,t,n){let r=Ue(e),o=[r[re.MonthsFormat],r[re.MonthsStandalone]],i=Ze(o,t);return Ze(i,n)}function sv(e,t){let r=Ue(e)[re.Eras];return Ze(r,t)}function Yo(e,t){let n=Ue(e);return Ze(n[re.DateFormat],t)}function Zo(e,t){let n=Ue(e);return Ze(n[re.TimeFormat],t)}function Qo(e,t){let r=Ue(e)[re.DateTimeFormat];return Ze(r,t)}function Jo(e,t){let n=Ue(e),r=n[re.NumberSymbols][t];if(typeof r>"u"){if(t===Ft.CurrencyDecimal)return n[re.NumberSymbols][Ft.Decimal];if(t===Ft.CurrencyGroup)return n[re.NumberSymbols][Ft.Group]}return r}function av(e){if(!e[re.ExtraData])throw new E(2303,!1)}function cv(e){let t=Ue(e);return av(t),(t[re.ExtraData][2]||[]).map(r=>typeof r=="string"?kd(r):[kd(r[0]),kd(r[1])])}function uv(e,t,n){let r=Ue(e);av(r);let o=[r[re.ExtraData][0],r[re.ExtraData][1]],i=Ze(o,t)||[];return Ze(i,n)||[]}function Ze(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new E(2304,!1)}function kd(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var pI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ta={},gI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function lv(e,t,n,r){let o=CI(e);t=Lt(n,t)||t;let s=[],a;for(;t;)if(a=gI.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=o.getTimezoneOffset();r&&(c=fv(r,c),o=bI(o,r));let u="";return s.forEach(l=>{let d=DI(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function xa(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Lt(e,t){let n=nv(e);if(Ta[n]??={},Ta[n][t])return Ta[n][t];let r="";switch(t){case"shortDate":r=Yo(e,Fe.Short);break;case"mediumDate":r=Yo(e,Fe.Medium);break;case"longDate":r=Yo(e,Fe.Long);break;case"fullDate":r=Yo(e,Fe.Full);break;case"shortTime":r=Zo(e,Fe.Short);break;case"mediumTime":r=Zo(e,Fe.Medium);break;case"longTime":r=Zo(e,Fe.Long);break;case"fullTime":r=Zo(e,Fe.Full);break;case"short":let o=Lt(e,"shortTime"),i=Lt(e,"shortDate");r=Aa(Qo(e,Fe.Short),[o,i]);break;case"medium":let s=Lt(e,"mediumTime"),a=Lt(e,"mediumDate");r=Aa(Qo(e,Fe.Medium),[s,a]);break;case"long":let c=Lt(e,"longTime"),u=Lt(e,"longDate");r=Aa(Qo(e,Fe.Long),[c,u]);break;case"full":let l=Lt(e,"fullTime"),d=Lt(e,"fullDate");r=Aa(Qo(e,Fe.Full),[l,d]);break}return r&&(Ta[n][t]=r),r}function Aa(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function ut(e,t,n="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function mI(e,t){return ut(e,3).substring(0,t)}function ie(e,t,n=0,r=!1,o=!1){return function(i,s){let a=vI(e,i);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return mI(a,t);let c=Jo(s,Ft.MinusSign);return ut(a,t,c,r,o)}}function vI(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new E(2301,!1)}}function Y(e,t,n=Ce.Format,r=!1){return function(o,i){return yI(o,i,e,t,n,r)}}function yI(e,t,n,r,o,i){switch(n){case 2:return iv(t,o,r)[e.getMonth()];case 1:return ov(t,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let u=cv(t),l=uv(t,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,v=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&v)return!0}else if(g||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return rv(t,o,r)[s<12?0:1];case 3:return sv(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new E(2302,!1)}}function Ra(e){return function(t,n,r){let o=-1*r,i=Jo(n,Ft.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+ut(s,2,i)+ut(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+ut(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+ut(s,2,i)+":"+ut(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+ut(s,2,i)+":"+ut(Math.abs(o%60),2,i);default:throw new E(2310,!1)}}}var wI=0,Na=4;function EI(e){let t=xa(e,wI,1).getDay();return xa(e,0,1+(t<=Na?Na:Na+7)-t)}function dv(e){let t=e.getDay(),n=t===0?-3:Na-t;return xa(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Pd(e,t=!1){return function(n,r){let o;if(t){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=dv(n),s=EI(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return ut(o,e,Jo(r,Ft.MinusSign))}}function Ma(e,t=!1){return function(n,r){let i=dv(n).getFullYear();return ut(i,e,Jo(r,Ft.MinusSign),t)}}var Ld={};function DI(e){if(Ld[e])return Ld[e];let t;switch(e){case"G":case"GG":case"GGG":t=Y(3,G.Abbreviated);break;case"GGGG":t=Y(3,G.Wide);break;case"GGGGG":t=Y(3,G.Narrow);break;case"y":t=ie(0,1,0,!1,!0);break;case"yy":t=ie(0,2,0,!0,!0);break;case"yyy":t=ie(0,3,0,!1,!0);break;case"yyyy":t=ie(0,4,0,!1,!0);break;case"Y":t=Ma(1);break;case"YY":t=Ma(2,!0);break;case"YYY":t=Ma(3);break;case"YYYY":t=Ma(4);break;case"M":case"L":t=ie(1,1,1);break;case"MM":case"LL":t=ie(1,2,1);break;case"MMM":t=Y(2,G.Abbreviated);break;case"MMMM":t=Y(2,G.Wide);break;case"MMMMM":t=Y(2,G.Narrow);break;case"LLL":t=Y(2,G.Abbreviated,Ce.Standalone);break;case"LLLL":t=Y(2,G.Wide,Ce.Standalone);break;case"LLLLL":t=Y(2,G.Narrow,Ce.Standalone);break;case"w":t=Pd(1);break;case"ww":t=Pd(2);break;case"W":t=Pd(1,!0);break;case"d":t=ie(2,1);break;case"dd":t=ie(2,2);break;case"c":case"cc":t=ie(7,1);break;case"ccc":t=Y(1,G.Abbreviated,Ce.Standalone);break;case"cccc":t=Y(1,G.Wide,Ce.Standalone);break;case"ccccc":t=Y(1,G.Narrow,Ce.Standalone);break;case"cccccc":t=Y(1,G.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":t=Y(1,G.Abbreviated);break;case"EEEE":t=Y(1,G.Wide);break;case"EEEEE":t=Y(1,G.Narrow);break;case"EEEEEE":t=Y(1,G.Short);break;case"a":case"aa":case"aaa":t=Y(0,G.Abbreviated);break;case"aaaa":t=Y(0,G.Wide);break;case"aaaaa":t=Y(0,G.Narrow);break;case"b":case"bb":case"bbb":t=Y(0,G.Abbreviated,Ce.Standalone,!0);break;case"bbbb":t=Y(0,G.Wide,Ce.Standalone,!0);break;case"bbbbb":t=Y(0,G.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":t=Y(0,G.Abbreviated,Ce.Format,!0);break;case"BBBB":t=Y(0,G.Wide,Ce.Format,!0);break;case"BBBBB":t=Y(0,G.Narrow,Ce.Format,!0);break;case"h":t=ie(3,1,-12);break;case"hh":t=ie(3,2,-12);break;case"H":t=ie(3,1);break;case"HH":t=ie(3,2);break;case"m":t=ie(4,1);break;case"mm":t=ie(4,2);break;case"s":t=ie(5,1);break;case"ss":t=ie(5,2);break;case"S":t=ie(6,1);break;case"SS":t=ie(6,2);break;case"SSS":t=ie(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Ra(0);break;case"ZZZZZ":t=Ra(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ra(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ra(2);break;default:return null}return Ld[e]=t,t}function fv(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function _I(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function bI(e,t,n){let o=e.getTimezoneOffset(),i=fv(t,o);return _I(e,-1*(i-o))}function CI(e){if(Xm(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return xa(o,i-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(pI))return II(r)}let t=new Date(e);if(!Xm(t))throw new E(2311,!1);return t}function II(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(t,s,a,c,u),t}function Xm(e){return e instanceof Date&&!isNaN(e.valueOf())}var Oa=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hv=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Oa(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),ev(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);ev(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ye(tn),ye(xr),ye(xd))};static \u0275dir=nn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ev(e,t){e.context.$implicit=t.item}var SI=(()=>{class e{_viewContainer;_context=new ka;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tv(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tv(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ye(tn),ye(xr))};static \u0275dir=nn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ka=class{$implicit=null;ngIf=null};function tv(e,t){if(e&&!e.createEmbeddedView)throw new E(2020,!1)}var Fd=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},pv=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=nn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),TI=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new Fd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(ye(tn),ye(xr),ye(pv,9))};static \u0275dir=nn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})();function AI(e,t){return new E(2100,!1)}var RI="mediumDate",gv=new T(""),mv=new T(""),MI=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??RI,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return lv(n,s,i||this.locale,a)}catch(s){throw AI(e,s.message)}}static \u0275fac=function(r){return new(r||e)(ye(Go,16),ye(gv,24),ye(mv,24))};static \u0275pipe=md({name:"date",type:e,pure:!0})}return e})();var vv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=zo({type:e});static \u0275inj=gr({})}return e})();function jd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Xo=class{};var yv="browser";var ei=class{_doc;constructor(t){this._doc=t}manager},Pa=(()=>{class e extends ei{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(O(le))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),ja=new T(""),Vd=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Pa));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Pa);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(O(ja),O(Pe))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),$d="ng-app-id";function wv(e){for(let t of e)t.remove()}function Ev(e,t){let n=t.createElement("style");return n.textContent=e,n}function NI(e,t,n,r){let o=e.head?.querySelectorAll(`style[${$d}="${t}"],link[${$d}="${t}"]`);if(o)for(let i of o)i.removeAttribute($d),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Bd(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Hd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,NI(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Ev);r?.forEach(o=>this.addUsage(o,this.external,Bd))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(wv(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])wv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Ev(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Bd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(O(le),O(ua),O(da,8),O(Bo))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zd=/%COMP%/g;var _v="%COMP%",xI=`_nghost-${_v}`,OI=`_ngcontent-${_v}`,kI=!0,PI=new T("",{factory:()=>kI});function LI(e){return OI.replace(zd,e)}function FI(e){return xI.replace(zd,e)}function bv(e,t){return t.map(n=>n.replace(zd,e))}var qd=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new ti(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Fa?o.applyToHost(n):o instanceof ni&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case at.Emulated:i=new Fa(c,u,r,this.appId,l,s,a,d);break;case at.ShadowDom:return new La(c,n,r,s,a,this.nonce,d,u);case at.ExperimentalIsolatedShadowDom:return new La(c,n,r,s,a,this.nonce,d);default:i=new ni(c,u,r,l,s,a,d);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(O(Vd),O(Hd),O(ua),O(PI),O(le),O(Pe),O(da),O(Un,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),ti=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Ud[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Dv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Dv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Ud[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Ud[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(It.DashCase|It.Important)?t.style.setProperty(n,r,o&It.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&It.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Pt().getGlobalEventTarget(this.doc,t),!t))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Dv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var La=class extends ti{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=bv(r.id,u);for(let d of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let d of l){let h=Bd(d,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ni=class extends ti{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?bv(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Rr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Fa=class extends ni{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,u),this.contentAttr=LI(u),this.hostAttr=FI(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var $a=class e extends Ko{supportsDOMEvents=!0;static makeCurrent(){Od(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=jI();return n==null?null:$I(n)}resetBaseElement(){ri=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jd(document.cookie,t)}},ri=null;function jI(){return ri=ri||document.head.querySelector("base"),ri?ri.getAttribute("href"):null}function $I(e){return new URL(e,document.baseURI).pathname}var UI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Cv=["alt","control","meta","shift"],BI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Iv=(()=>{class e extends ei{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Cv.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=BI[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Cv.forEach(s=>{if(s!==o){let a=VI[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(O(le))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function HI(e,t,n){let r=w({rootComponent:e,platformRef:n?.platformRef},zI(t));return Wm(r)}function zI(e){return{appProviders:[...YI,...e?.providers??[]],platformProviders:KI}}function qI(){$a.makeCurrent()}function GI(){return new yt}function WI(){return Gl(document),document}var KI=[{provide:Bo,useValue:yv},{provide:la,useValue:qI,multi:!0},{provide:le,useFactory:WI}];var YI=[{provide:_o,useValue:"root"},{provide:yt,useFactory:GI},{provide:ja,useClass:Pa,multi:!0},{provide:ja,useClass:Iv,multi:!0},qd,Hd,Vd,{provide:Ln,useExisting:qd},{provide:Xo,useClass:UI},[]];var Sv=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(O(le))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var M="primary",mi=Symbol("RouteTitle"),Zd=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zn(e){return new Zd(e)}function Pv(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function qa(e){return new Promise((t,n)=>{e.pipe(xt()).subscribe({next:r=>t(r),error:r=>n(r)})})}function QI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!St(e[n],t[n]))return!1;return!0}function St(e,t){let n=e?Qd(e):void 0,r=t?Qd(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Lv(e[o],t[o]))return!1;return!0}function Qd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Lv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Fv(e){return e.length>0?e[e.length-1]:null}function Gn(e){return ds(e)?e:Or(e)?ce(Promise.resolve(e)):P(e)}function jv(e){return ds(e)?qa(e):Promise.resolve(e)}var JI={exact:Uv,subset:Bv},$v={exact:XI,subset:eS,ignored:()=>!0};function Tv(e,t,n){return JI[n.paths](e.root,t.root,n.matrixParams)&&$v[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function XI(e,t){return St(e,t)}function Uv(e,t,n){if(!Vn(e.segments,t.segments)||!Va(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Uv(e.children[r],t.children[r],n))return!1;return!0}function eS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Lv(e[n],t[n]))}function Bv(e,t,n){return Vv(e,t,t.segments,n)}function Vv(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Vn(o,n)||t.hasChildren()||!Va(o,n,r))}else if(e.segments.length===n.length){if(!Vn(e.segments,n)||!Va(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Bv(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Vn(e.segments,o)||!Va(e.segments,o,r)||!e.children[M]?!1:Vv(e.children[M],t,i,r)}}function Va(e,t,n){return t.every((r,o)=>$v[n](e[o].parameters,r.parameters))}var dt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new U([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){return rS.serialize(this)}},U=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ha(this)}},sn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=zn(this.parameters),this._parameterMap}toString(){return zv(this)}};function tS(e,t){return Vn(e,t)&&e.every((n,r)=>St(n.parameters,t[r].parameters))}function Vn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function nS(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===M&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==M&&(n=n.concat(t(o,r)))}),n}var vi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new an,providedIn:"root"})}return e})(),an=class{parse(t){let n=new Xd(t);return new dt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${oi(t.root,!0)}`,r=sS(t.queryParams),o=typeof t.fragment=="string"?`#${oS(t.fragment)}`:"";return`${n}${r}${o}`}},rS=new an;function Ha(e){return e.segments.map(t=>zv(t)).join("/")}function oi(e,t){if(!e.hasChildren())return Ha(e);if(t){let n=e.children[M]?oi(e.children[M],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==M&&r.push(`${o}:${oi(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=nS(e,(r,o)=>o===M?[oi(e.children[M],!1)]:[`${o}:${oi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[M]!=null?`${Ha(e)}/${n[0]}`:`${Ha(e)}/(${n.join("//")})`}}function Hv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ua(e){return Hv(e).replace(/%3B/gi,";")}function oS(e){return encodeURI(e)}function Jd(e){return Hv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function za(e){return decodeURIComponent(e)}function Av(e){return za(e.replace(/\+/g,"%20"))}function zv(e){return`${Jd(e.path)}${iS(e.parameters)}`}function iS(e){return Object.entries(e).map(([t,n])=>`;${Jd(t)}=${Jd(n)}`).join("")}function sS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Ua(n)}=${Ua(o)}`).join("&"):`${Ua(n)}=${Ua(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var aS=/^[^\/()?;#]+/;function Gd(e){let t=e.match(aS);return t?t[0]:""}var cS=/^[^\/()?;=#]+/;function uS(e){let t=e.match(cS);return t?t[0]:""}var lS=/^[^=?&#]+/;function dS(e){let t=e.match(lS);return t?t[0]:""}var fS=/^[^&#]+/;function hS(e){let t=e.match(fS);return t?t[0]:""}var Xd=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[M]=new U(t,n)),r}parseSegment(){let t=Gd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new sn(za(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=uS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Gd(this.remaining);o&&(r=o,this.capture(r))}t[za(n)]=za(r)}parseQueryParam(t){let n=dS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=hS(this.remaining);s&&(r=s,this.capture(r))}let o=Av(n),i=Av(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gd(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=M);let s=this.parseChildren();n[i??M]=Object.keys(s).length===1&&s[M]?s[M]:new U([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}};function qv(e){return e.segments.length>0?new U([],{[M]:e}):e}function Gv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=Gv(o);if(r===M&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new U(e.segments,t);return pS(n)}function pS(e){if(e.numberOfChildren===1&&e.children[M]){let t=e.children[M];return new U(e.segments.concat(t.segments),t.children)}return e}function $r(e){return e instanceof dt}function Wv(e,t,n=null,r=null,o=new an){let i=Kv(e);return Yv(i,t,n,r,o)}function Kv(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new U(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=qv(r);return t??o}function Yv(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Wd(i,i,i,n,r,o);let s=gS(t);if(s.toRoot())return Wd(i,i,new U([],{}),n,r,o);let a=mS(s,i,e),c=a.processChildren?si(a.segmentGroup,a.index,s.commands):Qv(a.segmentGroup,a.index,s.commands);return Wd(i,a.segmentGroup,c,n,r,o)}function Ga(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ui(e){return typeof e=="object"&&e!=null&&e.outlets}function Rv(e,t,n){e||="\u0275";let r=new dt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Wd(e,t,n,r,o,i){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(d=>Rv(u,d,i)):Rv(u,l,i);let a;e===t?a=n:a=Zv(e,t,n);let c=qv(Gv(a));return new dt(c,s,o)}function Zv(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=Zv(i,t,n)}),new U(e.segments,r)}var Wa=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ga(r[0]))throw new E(4003,!1);let o=r.find(ui);if(o&&o!==Fv(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Wa(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Wa(n,t,r)}var Fr=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function mS(e,t,n){if(e.isAbsolute)return new Fr(t,!0,0);if(!n)return new Fr(t,!1,NaN);if(n.parent===null)return new Fr(n,!0,0);let r=Ga(e.commands[0])?0:1,o=n.segments.length-1+r;return vS(n,o,e.numberOfDoubleDots)}function vS(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new Fr(r,!1,o-i)}function yS(e){return ui(e[0])?e[0].outlets:{[M]:e}}function Qv(e,t,n){if(e??=new U([],{}),e.segments.length===0&&e.hasChildren())return si(e,t,n);let r=wS(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new U(e.segments.slice(0,r.pathIndex),{});return i.children[M]=new U(e.segments.slice(r.pathIndex),e.children),si(i,0,o)}else return r.match&&o.length===0?new U(e.segments,{}):r.match&&!e.hasChildren()?ef(e,t,n):r.match?si(e,0,o):ef(e,t,n)}function si(e,t,n){if(n.length===0)return new U(e.segments,{});{let r=yS(n),o={};if(Object.keys(r).some(i=>i!==M)&&e.children[M]&&e.numberOfChildren===1&&e.children[M].segments.length===0){let i=si(e.children[M],t,n);return new U(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Qv(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new U(e.segments,o)}}function wS(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ui(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Nv(c,u,s))return i;r+=2}else{if(!Nv(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ef(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ui(i)){let c=ES(i.outlets);return new U(r,c)}if(o===0&&Ga(n[0])){let c=e.segments[t];r.push(new sn(c.path,Mv(n[0]))),o++;continue}let s=ui(i)?i.outlets[M]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ga(a)?(r.push(new sn(s,Mv(a))),o+=2):(r.push(new sn(s,{})),o++)}return new U(r,{})}function ES(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ef(new U([],{}),0,r))}),t}function Mv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Nv(e,t,n){return e==n.path&&St(t,n.parameters)}var ai="imperative",de=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(de||{}),Ve=class{id;url;constructor(t,n){this.id=t,this.url=n}},qn=class extends Ve{type=de.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jt=class extends Ve{urlAfterRedirects;type=de.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xe=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(xe||{}),li=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(li||{}),Tt=class extends Ve{reason;code;type=de.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$t=class extends Ve{reason;code;type=de.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Ur=class extends Ve{error;target;type=de.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},di=class extends Ve{urlAfterRedirects;state;type=de.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ka=class extends Ve{urlAfterRedirects;state;type=de.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ya=class extends Ve{urlAfterRedirects;state;shouldActivate;type=de.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Za=class extends Ve{urlAfterRedirects;state;type=de.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qa=class extends Ve{urlAfterRedirects;state;type=de.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ja=class{route;type=de.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xa=class{route;type=de.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ec=class{snapshot;type=de.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tc=class{snapshot;type=de.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nc=class{snapshot;type=de.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rc=class{snapshot;type=de.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fi=class{},Br=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function DS(e){return!(e instanceof fi)&&!(e instanceof Br)}function _S(e,t){return e.providers&&!e._injector&&(e._injector=Ho(e.providers,t,`Route: ${e.path}`)),e._injector??t}function lt(e){return e.outlet||M}function bS(e,t){let n=e.filter(r=>lt(r)===t);return n.push(...e.filter(r=>lt(r)!==t)),n}function zr(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zr(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new qr(this.rootInjector)}},qr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(O(me))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ic=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=tf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=tf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=nf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return nf(t,this._root).map(n=>n.value)}};function tf(e,t){if(e===t.value)return t;for(let n of t.children){let r=tf(e,n);if(r)return r}return null}function nf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=nf(e,n);if(r.length)return r.unshift(t),r}return[]}var Be=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var hi=class extends ic{snapshot;constructor(t,n){super(t),this.snapshot=n,uf(this,t)}toString(){return this.snapshot.toString()}};function Jv(e){let t=CS(e),n=new pe([new sn("",{})]),r=new pe({}),o=new pe({}),i=new pe({}),s=new pe(""),a=new cn(n,r,i,s,o,M,e,t.root);return a.snapshot=t.root,new hi(new Be(a,[]),t)}function CS(e){let t={},n={},r={},i=new Hn([],t,r,"",n,M,e,null,{});return new pi("",new Be(i,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(u=>u[mi]))??P(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>zn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>zn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sc(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&ey(o)&&(r.resolve[mi]=o.title),r}var Hn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mi]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},pi=class extends ic{url;constructor(t,n){super(n),this.url=t,uf(this,n)}toString(){return Xv(this._root)}};function uf(e,t){t.value._routerState=e,t.children.forEach(n=>uf(e,n))}function Xv(e){let t=e.children.length>0?` { ${e.children.map(Xv).join(", ")} } `:"";return`${e.value}${t}`}function Kd(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,St(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),St(t.params,n.params)||e.paramsSubject.next(n.params),QI(t.url,n.url)||e.urlSubject.next(n.url),St(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function rf(e,t){let n=St(e.params,t.params)&&tS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||rf(e.parent,t.parent))}function ey(e){return typeof e.title=="string"||e.title===null}var ty=new T(""),lf=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=M;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=Gm();parentContexts=y(qr);location=y(tn);changeDetector=y(Nd);inputBinder=y(lc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new of(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=nn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[sa]})}return e})(),of=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===cn?this.route:t===qr?this.childContexts:t===ty?this.outletData:this.parent.get(t,n)}},lc=new T("");var df=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=gd({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&_a(0,"router-outlet")},dependencies:[lf],encapsulation:2})}return e})();function ff(e){let t=e.children&&e.children.map(ff),n=t?K(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==M&&(n.component=df),n}function IS(e,t,n){let r=gi(e,t._root,n?n._root:void 0);return new hi(r,t)}function gi(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=SS(e,t,n);return new Be(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>gi(e,a)),s}}let r=TS(t.value),o=t.children.map(i=>gi(e,i));return new Be(r,o)}}function SS(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return gi(e,r,o);return gi(e,r)})}function TS(e){return new cn(new pe(e.url),new pe(e.params),new pe(e.queryParams),new pe(e.fragment),new pe(e.data),e.outlet,e.component,e)}var Vr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ny="ngNavigationCancelingError";function ac(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=$r(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=ry(!1,xe.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function ry(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ny]=!0,n.cancellationCode=t,n}function AS(e){return oy(e)&&$r(e.url)}function oy(e){return!!e&&e[ny]}var RS=(e,t,n,r)=>J(o=>(new sf(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),sf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Kd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Lr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Lr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new rc(i.value.snapshot))}),t.children.length&&this.forwardEvent(new tc(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(Kd(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Kd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},cc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jr=class{component;route;constructor(t,n){this.component=t,this.route=n}};function MS(e,t,n){let r=e._root,o=t?t._root:null;return ii(r,o,n,[r.value])}function NS(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Gr(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Tu(e)?e:t.get(e):r}function ii(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Lr(t);return e.children.forEach(s=>{xS(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ci(a,n.getContext(s),o)),o}function xS(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=OS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new cc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ii(e,t,a?a.children:null,r,o):ii(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new jr(a.outlet.component,s))}else s&&ci(t,a,o),o.canActivateChecks.push(new cc(r)),i.component?ii(e,null,a?a.children:null,r,o):ii(e,null,n,r,o);return o}function OS(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Vn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Vn(e.url,t.url)||!St(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rf(e,t)||!St(e.queryParams,t.queryParams);case"paramsChange":default:return!rf(e,t)}}function ci(e,t,n){let r=Lr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ci(s,t.children.getContext(i),n):ci(s,null,n):ci(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new jr(t.outlet.component,o)):n.canDeactivateChecks.push(new jr(null,o)):n.canDeactivateChecks.push(new jr(null,o))}function yi(e){return typeof e=="function"}function kS(e){return typeof e=="boolean"}function PS(e){return e&&yi(e.canLoad)}function LS(e){return e&&yi(e.canActivate)}function FS(e){return e&&yi(e.canActivateChild)}function jS(e){return e&&yi(e.canDeactivate)}function $S(e){return e&&yi(e.canMatch)}function iy(e){return e instanceof vn||e?.name==="EmptyError"}var Ba=Symbol("INITIAL_VALUE");function Hr(){return mt(e=>su(e.map(t=>t.pipe(Nt(1),uu(Ba)))).pipe(J(t=>{for(let n of t)if(n!==!0){if(n===Ba)return Ba;if(n===!1||US(n))return n}return!0}),gt(t=>t!==Ba),Nt(1)))}function US(e){return $r(e)||e instanceof Vr}function sy(e){return e.aborted?P(void 0).pipe(Nt(1)):new F(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function ay(e){return ho(sy(e))}function BS(e,t){return Se(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?P(K(w({},n),{guardsResult:!0})):VS(s,r,o,e).pipe(Se(a=>a&&kS(a)?HS(r,i,e,t):P(a)),J(a=>K(w({},n),{guardsResult:a})))})}function VS(e,t,n,r){return ce(e).pipe(Se(o=>KS(o.component,o.route,n,t,r)),xt(o=>o!==!0,!0))}function HS(e,t,n,r){return ce(t).pipe(gs(o=>dr(qS(o.route.parent,r),zS(o.route,r),WS(e,o.path,n),GS(e,o.route,n))),xt(o=>o!==!0,!0))}function zS(e,t){return e!==null&&t&&t(new nc(e)),P(!0)}function qS(e,t){return e!==null&&t&&t(new ec(e)),P(!0)}function GS(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let o=r.map(i=>lo(()=>{let s=zr(t)??n,a=Gr(i,s),c=LS(a)?a.canActivate(t,e):Me(s,()=>a(t,e));return Gn(c).pipe(xt())}));return P(o).pipe(Hr())}function WS(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>NS(s)).filter(s=>s!==null).map(s=>lo(()=>{let a=s.guards.map(c=>{let u=zr(s.node)??n,l=Gr(c,u),d=FS(l)?l.canActivateChild(r,e):Me(u,()=>l(r,e));return Gn(d).pipe(xt())});return P(a).pipe(Hr())}));return P(i).pipe(Hr())}function KS(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return P(!0);let s=i.map(a=>{let c=zr(t)??o,u=Gr(a,c),l=jS(u)?u.canDeactivate(e,t,n,r):Me(c,()=>u(e,t,n,r));return Gn(l).pipe(xt())});return P(s).pipe(Hr())}function YS(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(a=>{let c=Gr(a,e),u=PS(c)?c.canLoad(t,n):Me(e,()=>c(t,n)),l=Gn(u);return o?l.pipe(ay(o)):l});return P(s).pipe(Hr(),cy(r))}function cy(e){return nu(Te(t=>{if(typeof t!="boolean")throw ac(e,t)}),J(t=>t===!0))}function ZS(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(a=>{let c=Gr(a,e),u=$S(c)?c.canMatch(t,n):Me(e,()=>c(t,n)),l=Gn(u);return o?l.pipe(ay(o)):l});return P(s).pipe(Hr(),cy(r))}var Bn=class uy extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,uy.prototype)}},af=class ly extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,ly.prototype)}};function QS(e){throw new E(4e3,!1)}function JS(e){throw ry(!1,xe.GuardRejected)}var XS=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[M])throw QS(`${t.redirectTo}`);o=o.children[M]}}async applyRedirectCommands(t,n,r,o,i){let s=await eT(n,o,i);if(s instanceof dt)throw new af(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new af(a);return a}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new dt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new U(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function eT(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return qa(Gn(Me(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d}))))}var cf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tT(e,t,n,r,o,i){let s=dy(e,t,n);return s.matched?(r=_S(t,r),ZS(r,t,n,o,i).pipe(J(a=>a===!0?s:w({},cf)))):P(s)}function dy(e,t,n){if(t.path==="**")return nT(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},cf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Pv)(n,e,t);if(!o)return w({},cf);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function nT(e){return{matched:!0,parameters:e.length>0?Fv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function xv(e,t,n,r){return n.length>0&&iT(e,n,r)?{segmentGroup:new U(t,oT(r,new U(n,e.children))),slicedSegments:[]}:n.length===0&&sT(e,n,r)?{segmentGroup:new U(e.segments,rT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new U(e.segments,e.children),slicedSegments:n}}function rT(e,t,n,r){let o={};for(let i of n)if(dc(e,t,i)&&!r[lt(i)]){let s=new U([],{});o[lt(i)]=s}return w(w({},r),o)}function oT(e,t){let n={};n[M]=t;for(let r of e)if(r.path===""&&lt(r)!==M){let o=new U([],{});n[lt(r)]=o}return n}function iT(e,t,n){return n.some(r=>dc(e,t,r)&&lt(r)!==M)}function sT(e,t,n){return n.some(r=>dc(e,t,r))}function dc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aT(e,t,n){return t.length===0&&!e.children[n]}var cT=class{};async function uT(e,t,n,r,o,i,s="emptyOnly",a){return new dT(e,t,n,r,o,s,i,a).recognize()}var lT=31,dT=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new XS(this.urlSerializer,this.urlTree)}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}async recognize(){let t=xv(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),o=new Be(r,n),i=new pi("",o),s=Wv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(t){let n=new Hn([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),M,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,M,n),rootSnapshot:n}}catch(r){if(r instanceof af)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,o,i){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=await this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof Be?[s]:[]}async processChildren(t,n,r,o){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let u=r.children[c],l=bS(n,c),d=await this.processSegmentGroup(t,l,u,c,o);s.push(...d)}let a=fy(s);return fT(a),a}async processSegment(t,n,r,o,i,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(u){if(u instanceof Bn||iy(u))continue;throw u}if(aT(r,o,i))return new cT;throw new Bn(r)}async processSegmentAgainstRoute(t,n,r,o,i,s,a,c){if(lt(r)!==s&&(s===M||!dc(o,i,r)))throw new Bn(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new Bn(o)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=dy(n,o,i);if(!c)throw new Bn(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lT&&(this.allowRedirects=!1));let f=new Hn(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Ov(o),lt(o),o.component??o._loadedComponent??null,o,kv(o)),p=sc(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t),v=await this.applyRedirects.lineralizeSegments(o,g);return this.processSegment(t,r,n,v.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,o,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await qa(tT(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Bn(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:l,consumedSegments:d,remainingSegments:h}=a,f=new Hn(d,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Ov(r),lt(r),r.component??r._loadedComponent??null,r,kv(r)),p=sc(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=xv(n,d,h,c);if(v.length===0&&g.hasChildren()){let b=await this.processChildren(u,c,g,f);return new Be(f,b)}if(c.length===0&&v.length===0)return new Be(f,[]);let m=lt(r)===i,L=await this.processSegment(u,c,g,v,m?M:i,!0,f);return new Be(f,L instanceof Be?[L]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await qa(YS(t,n,r,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,i}throw JS(n)}return{routes:[],injector:t}}};function fT(e){e.sort((t,n)=>t.value.outlet===M?-1:n.value.outlet===M?1:t.value.outlet.localeCompare(n.value.outlet))}function hT(e){let t=e.value.routeConfig;return t&&t.path===""}function fy(e){let t=[],n=new Set;for(let r of e){if(!hT(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=fy(r.children);t.push(new Be(r.value,o))}return t.filter(r=>!n.has(r))}function Ov(e){return e.data||{}}function kv(e){return e.resolve||{}}var pT=new T("",{factory:()=>uT});function gT(e,t,n,r,o,i,s){let a=e.get(pT);return Se(c=>P(c).pipe(mt(u=>a(e,t,n,r,u.extractedUrl,o,i,s)),J(({state:u,tree:l})=>K(w({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function mT(e,t){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return P(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of hy(c))s.add(u);let a=0;return ce(s).pipe(gs(c=>i.has(c)?vT(c,r,e,t):(c.data=sc(c,c.parent,e).resolve,P(void 0))),Te(()=>a++),ms(1),Se(c=>a===s.size?P(n):Oe))})}function hy(e){let t=e.children.map(n=>hy(n)).flat();return[e,...t]}function vT(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!ey(o)&&(i[mi]=o.title),lo(()=>(e.data=sc(e,e.parent,n).resolve,yT(i,e,t,r).pipe(J(s=>(e._resolvedData=s,e.data=w(w({},e.data),s),null)))))}function yT(e,t,n,r){let o=Qd(e);if(o.length===0)return P({});let i={};return ce(o).pipe(Se(s=>wT(e[s],t,n,r).pipe(xt(),Te(a=>{if(a instanceof Vr)throw ac(new an,a);i[s]=a}))),ms(1),J(()=>i),fo(s=>iy(s)?Oe:iu(s)))}function wT(e,t,n,r){let o=zr(t)??r,i=Gr(e,o),s=i.resolve?i.resolve(t,n):Me(o,()=>i(t,n));return Gn(s)}function Yd(e){return mt(t=>{let n=e(t);return n?ce(n).pipe(J(()=>t)):P(t)})}var hf=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===M);return r}getResolvedTitleForRoute(n){return n.data[mi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(py),providedIn:"root"})}return e})(),py=(()=>{class e extends hf{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(O(Sv))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wi=new T("",{factory:()=>({})}),Ei=new T(""),gy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Id);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await jv(Me(n,()=>r.loadComponent())),s=await yy(vy(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await my(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function my(e,t,n,r){let o=await jv(Me(n,()=>e.loadChildren())),i=await yy(vy(o)),s;i instanceof Ea||Array.isArray(i)?s=i:s=await t.compileModuleAsync(i),r&&r(e);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(Ei,[],{optional:!0,self:!0}).flat()),{routes:c.map(ff),injector:a}}function ET(e){return e&&typeof e=="object"&&"default"in e}function vy(e){return ET(e)?e.default:e}async function yy(e){return e}var fc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(DT),providedIn:"root"})}return e})(),DT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wy=new T("");var _T=()=>{},Ey=new T(""),Dy=(()=>{class e{currentNavigation=Cr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Cr(null);events=new De;transitionAbortWithErrorSubject=new De;configLoader=y(gy);environmentInjector=y(me);destroyRef=y(On);urlSerializer=y(vi);rootContexts=y(qr);location=y(Pr);inputBindingEnabled=y(lc,{optional:!0})!==null;titleStrategy=y(hf);options=y(wi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(fc);createViewTransition=y(wy,{optional:!0});navigationErrorHandler=y(Ey,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Ja(o)),r=o=>this.events.next(new Xa(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;bt(()=>{this.transitions?.next(K(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new pe(null),this.transitions.pipe(gt(r=>r!==null),mt(r=>{let o=!1,i=new AbortController;return P(r).pipe(mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xe.SupersededByNewNavigation),Oe;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?K(w({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new $t(s.id,this.urlSerializer.serialize(s.rawUrl),"",li.IgnoredSameUrlNavigation)),s.resolve(!1),Oe;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return P(s).pipe(mt(l=>(this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Oe:Promise.resolve(l))),gT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),Te(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let d=new di(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new qn(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);let v=Jv(this.rootComponentType).snapshot;return this.currentTransition=r=K(w({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:K(w({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=d,m)),P(r)}else return this.events.next(new $t(s.id,this.urlSerializer.serialize(s.extractedUrl),"",li.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Oe}),Te(s=>{let a=new Ka(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=K(w({},s),{guards:MS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),BS(this.environmentInjector,s=>this.events.next(s)),Te(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ac(this.urlSerializer,s.guardsResult);let a=new Ya(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),gt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",xe.GuardRejected),!1)),Yd(s=>{if(s.guards.canActivateChecks.length!==0)return P(s).pipe(Te(a=>{let c=new Za(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),mt(a=>{let c=!1;return P(a).pipe(mT(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",xe.NoDataFromResolver)}}))}),Te(a=>{let c=new Qa(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Yd(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=zr(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(h=>{u.component=h}))}for(let d of u.children)l.push(...a(d));return l},c=a(s.targetSnapshot.root);return c.length===0?P(s):ce(Promise.all(c).then(()=>s))}),Yd(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ce(c).pipe(J(()=>r)):P(r)}),J(s=>{let a=IS(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=K(w({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Te(()=>{this.events.next(new fi)}),RS(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nt(1),ho(sy(i.signal).pipe(gt(()=>!o&&!r.targetRouterState),Te(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",xe.Aborted)}))),Te({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=_T,a)),this.lastSuccessfulNavigation.set(bt(this.currentNavigation)),this.events.next(new jt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),ho(this.transitionAbortWithErrorSubject.pipe(Te(s=>{throw s}))),cu(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",xe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),fo(s=>{if(this.destroyed)return r.resolve(!1),Oe;if(o=!0,oy(s))this.events.next(new Tt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),AS(s)?this.events.next(new Br(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ur(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Vr){let{message:u,cancellationCode:l}=ac(this.urlSerializer,c);this.events.next(new Tt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Br(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Oe}))}))}cancelNavigationTransition(n,r,o){let i=new Tt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=bt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bT(e){return e!==ai}var _y=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(CT),providedIn:"root"})}return e})(),uc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},CT=(()=>{class e extends uc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=aa(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pf=(()=>{class e{urlSerializer=y(vi);options=y(wi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Pr);urlHandlingStrategy=y(fc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof dt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=Jv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(by),providedIn:"root"})}return e})(),by=(()=>{class e extends pf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof qn?this.updateStateMemento():n instanceof $t?this.commitTransition(r):n instanceof di?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof fi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tt&&n.code!==xe.SupersededByNewNavigation&&n.code!==xe.Redirect?this.restoreHistory(r):n instanceof Ur?this.restoreHistory(r,!0):n instanceof jt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=aa(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gf(e,t){e.events.pipe(gt(n=>n instanceof jt||n instanceof Tt||n instanceof Ur||n instanceof $t),J(n=>n instanceof jt||n instanceof $t?0:(n instanceof Tt?n.code===xe.Redirect||n.code===xe.SupersededByNewNavigation:!1)?2:1),gt(n=>n!==2),Nt(1)).subscribe(()=>{t()})}var IT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ST={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hc=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(vd);stateManager=y(pf);options=y(wi,{optional:!0})||{};pendingTasks=y(Xt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Dy);urlSerializer=y(vi);location=y(Pr);urlHandlingStrategy=y(fc);injector=y(me);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(_y);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Ei,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(lc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=bt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Tt&&r.code!==xe.Redirect&&r.code!==xe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jt)this.navigated=!0;else if(r instanceof Br){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bT(o.source)},s);this.scheduleNavigation(a,ai,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}DS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ai,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(_t)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return bt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ff),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=Kv(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Yv(d,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=$r(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ai,null,r)}navigate(n,r={skipLocationChange:!1}){return TT(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(pr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},IT):r===!1?o=w({},ST):o=r,$r(n))return Tv(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Tv(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return gf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TT(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new E(4008,!1)}var RT=new T("");function MT(e,...t){return Do([{provide:Ei,multi:!0,useValue:e},[],{provide:cn,useFactory:NT},{provide:Da,multi:!0,useFactory:xT},t.map(n=>n.\u0275providers)])}function NT(){return y(hc).routerState.root}function xT(){let e=y(nt);return t=>{let n=e.get(kr);if(t!==n.components[0])return;let r=e.get(hc),o=e.get(OT);e.get(kT)===1&&r.initialNavigation(),e.get(PT,null,{optional:!0})?.setUpPreloading(),e.get(RT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var OT=new T("",{factory:()=>new De}),kT=new T("",{factory:()=>1});var PT=new T("");var Cy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Wr=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Di=class extends Wr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Kr=class extends Wr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Yr=class extends Wr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},pc=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(pc||{});var _i=class{constructor(t,{headers:n={},customFetch:r,region:o=pc.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Cy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ji(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(v=s.signal,l.addEventListener("abort",()=>s.abort())):v=s.signal);let m=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:v}).catch(B=>{throw new Di(B)}),L=m.headers.get("x-relay-error");if(L&&L==="true")throw new Kr(m);if(!m.ok)throw new Yr(m);let b=((o=m.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return b==="application/json"?D=yield m.json():b==="application/octet-stream"||b==="application/pdf"?D=yield m.blob():b==="text/event-stream"?D=m:b==="multipart/form-data"?D=yield m.formData():D=yield m.text(),{data:D,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof Yr||a instanceof Kr?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var Sy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},FT=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,c=null,u=i.status,l=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var f;let m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}let g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,l="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await i.text();try{s=JSON.parse(g),Array.isArray(s)&&i.status===404&&(a=[],s=null,u=200,l="OK")}catch{i.status===404&&g===""?(u=204,l="No Content"):s={message:g}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,u=200,l="OK"),s&&n.shouldThrowOnError)throw new Sy(s)}return{error:s,data:a,count:c,status:u,statusText:l}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="",c=i?.cause;if(c){var u,l,d,h;let p=(u=c?.message)!==null&&u!==void 0?u:"",g=(l=c?.code)!==null&&l!==void 0?l:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(h=c?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=i?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},jT=class extends FT{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},Iy=new RegExp("[,()]"),Zr=class extends jT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Iy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Iy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},$T=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Zr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let i=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(i.length>0){let s=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Zr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){let c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Zr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Ty=class Ay{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $T(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ay(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new Zr({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var mf=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},vf=mf;var Ry="2.89.0";var My=`realtime-js/${Ry}`,yf="1.0.0",Ny="2.0.0",wf=yf;var bi=1e4,xy=1e3,Oy=100,un=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(un||{}),se=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(se||{}),Qe=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Qe||{}),Ef=(function(e){return e.websocket="websocket",e})(Ef||{}),Wn=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Wn||{});var gc=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,l=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(s,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(u,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(d,m=>p.setUint8(g++,m.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(t.slice(c,c+o));c=c+o;let l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Qr=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Z=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Z||{}),_f=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=UT(s,e,t,o),i),{}):{}},UT=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?ky(i,s):Df(s)},ky=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return zT(t,n)}switch(e){case Z.bool:return BT(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return VT(t);case Z.json:case Z.jsonb:return HT(t);case Z.timestamp:return qT(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Df(t);default:return Df(t)}},Df=e=>e,BT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VT=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zT=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>ky(t,a))}return e},qT=e=>typeof e=="string"?e.replace(" ","T"):e,mc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Jr=class{constructor(t,n,r={},o=bi){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ci=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=l.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ii=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Ii||{}),Ut=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Ut||{});var Si=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jr(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new Qr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ci(this),this.broadcastEndpointURL=mc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Ii.PRESENCE]&&this.bindings[Ii.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Ut.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Ut.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(Ut.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,m=[];for(let L=0;L<v;L++){let b=g[L],{filter:{event:D,schema:B,table:pt,filter:W}}=b,Q=f&&f[L];if(Q&&Q.event===D&&e.isFilterValueEqual(Q.schema,B)&&e.isFilterValueEqual(Q.table,pt)&&e.isFilterValueEqual(Q.filter,W))m.push(Object.assign(Object.assign({},b),{id:Q.id}));else{this.unsubscribe(),this.state=se.errored,t?.(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Ut.SUBSCRIBED);return}}).receive("error",f=>{this.state=se.errored,t?.(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===se.joined&&t===Ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Jr(this,Qe.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jr(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Oy){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Qe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,v,m,L,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let D=f.id,B=(p=f.filter)===null||p===void 0?void 0:p.event;return D&&((g=n.ids)===null||g===void 0?void 0:g.includes(D))&&(B==="*"||B?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let D=(L=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return D==="*"||D===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:v,commit_timestamp:m,type:L,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:m,eventType:L,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_f(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_f(t.columns,t.old_record)),n}};var bf=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WT=[1e3,2e3,5e3,1e4],KT=1e4,YT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ti=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bi,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bf,this.ref=0,this.reconnectTimer=null,this.vsn=wf,this.logger=bf,this.conn=null,this.sendBuffer=[],this.serializer=new gc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ef.websocket}`,this.httpEndpoint=mc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return Wn.Connecting;case un.open:return Wn.Open;case un.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Si(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===un.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===un.open||this.conn.readyState===un.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([YT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:My};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:bi,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:vc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:bf,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:wf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:p=>WT[p-1]||KT,this.vsn){case yf:this.encode=(l=t?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case Ny:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Ai=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ZT(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function QT(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JT(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){let a=ZT(e.baseUrl,r,o),c=await QT(e.auth),u=await t(a,{method:n,headers:w(w(w({},i?{"Content-Type":"application/json"}:{}),c),s),body:i?JSON.stringify(i):void 0}),l=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&l?JSON.parse(l):l;if(!u.ok){let f=d?h:void 0,p=f?.error;throw new Ai(p?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function yc(e){return e.join("")}var XT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:yc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yc(e.namespace)}`}),!0}catch(t){if(t instanceof Ai&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return;throw n}}};function Xr(e){return e.join("")}var e0=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ai&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Py=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JT({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new XT(this.client,t),this.tableOps=new e0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var wc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var t0=class extends wc{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sf=class extends wc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},Rf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),n0=()=>Response,Tf=e=>{if(Array.isArray(e))return e.map(n=>Tf(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Tf(r)}),t},r0=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},o0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function i0(e,t){if(Ri(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(e){var t=i0(e,"string");return Ri(t)=="symbol"?t:t+""}function a0(e,t,n){return(t=s0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ly(Object(n),!0).forEach(function(r){a0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},c0=async(e,t,n)=>{e instanceof await n0()&&!n?.noResolveJson?e.json().then(r=>{let o=e.status||500,i=r?.statusCode||o+"";t(new t0(Cf(r),o,i))}).catch(r=>{t(new Sf(Cf(r),r))}):t(new Sf(Cf(e),e))},u0=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(r0(r)?(o.headers=S({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),S(S({},o),n))};async function Ni(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,u0(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>c0(c,a,r))})}async function Mi(e,t,n,r){return Ni(e,"GET",t,n,r)}async function ft(e,t,n,r,o){return Ni(e,"POST",t,r,o,n)}async function Af(e,t,n,r,o){return Ni(e,"PUT",t,r,o,n)}async function l0(e,t,n,r){return Ni(e,"HEAD",t,S(S({},n),{},{noResolveJson:!0}),r)}async function Mf(e,t,n,r,o){return Ni(e,"DELETE",t,r,o,n)}var d0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}}},$y;$y=Symbol.toStringTag;var f0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[$y]="BlobDownloadBuilder",this.promise=null}asStream(){return new d0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}}},h0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},p0=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Rf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var o=this;try{let i,s=S(S({},Fy),r),a=S(S({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=S(S({},a),r.headers));let u=o._removeEmptyFolders(t),l=o._getFinalPath(u),d=await(e=="PUT"?Af:ft)(o.fetch,`${o.url}/object/${l}`,i,S({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var o=this;let i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,u=S({upsert:Fy.upsert},r),l=S(S({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{data:{path:i,fullPath:(await Af(o.fetch,a.toString(),c,{headers:l})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(ee(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),o=S({},n.headers);t?.upsert&&(o["x-upsert"]="true");let i=await ft(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new wc("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await ft(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async copy(e,t,n){var r=this;try{return{data:{path:(await ft(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,n){var r=this;try{let o=r._getFinalPath(e),i=await ft(r.fetch,`${r.url}/object/sign/${o}`,S({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,n){var r=this;try{let o=await ft(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>S(S({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",i=this._getFinalPath(e),s=()=>Mi(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new f0(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:Tf(await Mi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await l0(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ee(r)&&r instanceof Sf){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await Mf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{let o=S(S(S({},h0),t),{},{prefix:e||""});return{data:await ft(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}}async listV2(e,t){var n=this;try{let r=S({},e);return{data:await ft(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},Uy="2.89.0",By={"X-Client-Info":`storage-js/${Uy}`},g0=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=S(S({},By),t),this.fetch=Rf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await Mi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Mi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await ft(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Af(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Mf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},m0=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=S(S({},By),t),this.fetch=Rf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Mi(t.fetch,o,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Mf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!o0(e))throw new wc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Py({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){let s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},Nf={"X-Client-Info":`storage-js/${Uy}`,"Content-Type":"application/json"},Vy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function He(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var If=class extends Vy{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},v0=class extends Vy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var y0=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var jy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w0=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{let s=i?.statusCode||i?.code||r+"";t(new If(jy(i),r,s))}).catch(()=>{let i=r+"";t(new If(o.statusText||`HTTP ${r} error`,r,i))});else{let i=r+"";t(new If(o.statusText||`HTTP ${r} error`,r,i))}}else t(new v0(jy(e),e))},E0=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(y0(r)?(o.headers=S({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,S(S({},o),n))};async function D0(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,E0(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>w0(c,a,r))})}async function ze(e,t,n,r,o){return D0(e,"POST",t,r,o,n)}var _0=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=S(S({},Nf),t),this.fetch=xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ze(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ze(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}},b0=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=S(S({},Nf),t),this.fetch=xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ze(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}},C0=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=S(S({},Nf),t),this.fetch=xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}},I0=class extends C0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new S0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},S0=class extends _0{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new T0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},T0=class extends b0{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,S(S({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Hy=class extends g0{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new p0(this.url,this.headers,e,this.fetch)}get vectors(){return new I0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m0(this.url+"/iceberg",this.headers,this.fetch)}};var Ec="2.89.0";var Kn=30*1e3,Dc=3,_c=Dc*Kn,zy="http://localhost:9999",qy="supabase.auth.token";var Gy={"X-Client-Info":`gotrue-js/${Ec}`};var xi="X-Supabase-Api-Version",Of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ky=600*1e3;var ln=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var bc=class extends ln{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Yy(e){return _(e)&&e.name==="AuthApiError"}var Je=class extends ln{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ht=class extends ln{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},we=class extends ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Zy(e){return _(e)&&e.name==="AuthSessionMissingError"}var Bt=class extends ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Yn=class extends ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Zn=class extends ht{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Qy(e){return _(e)&&e.name==="AuthImplicitGrantRedirectError"}var Oi=class extends ht{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Cc=class extends ht{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var eo=class extends ht{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ic(e){return _(e)&&e.name==="AuthRetryableFetchError"}var ki=class extends ht{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Qn=class extends ht{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jy=` 	
\r=`.split(""),A0=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jy.length;t+=1)e[Jy[t].charCodeAt(0)]=-2;for(let t=0;t<Sc.length;t+=1)e[Sc[t].charCodeAt(0)]=t;return e})();function Xy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Sc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Sc[r]),t.queuedBits-=6}}function ew(e,t,n){let r=A0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kf(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{N0(s,r,n)};for(let s=0;s<e.length;s+=1)ew(e.charCodeAt(s),o,i);return t.join("")}function R0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}R0(r,t)}}function N0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)ew(e.charCodeAt(o),n,r);return new Uint8Array(t)}function tw(e){let t=[];return M0(e,n=>t.push(n)),new Uint8Array(t)}function Vt(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Xy(o,n,r)),Xy(null,n,r),t.join("")}function nw(e){return Math.round(Date.now()/1e3)+e}function rw(){return Symbol("auth-callback")}var ae=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},Tc=()=>{if(!ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function ow(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Ac=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fe=async(e,t)=>{await e.removeItem(t)},Pi=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Pi.promiseConstructor=Promise;function Rc(e){let t=e.split(".");if(t.length!==3)throw new Qn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Wy.test(t[r]))throw new Qn("JWT not in base64url format");return{header:JSON.parse(kf(t[0])),payload:JSON.parse(kf(t[1])),signature:dn(t[2]),raw:{header:t[0],payload:t[1]}}}async function sw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aw(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function x0(e){return("0"+e.toString(16)).substr(-2)}function O0(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,x0).join("")}async function k0(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function P0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await k0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function er(e,t,n=!1){let r=O0(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Xn(e,`${t}-code-verifier`,o);let i=await P0(r);return[i,r===i?"plain":"s256"]}var L0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cw(e){let t=e.headers.get(xi);if(!t||!t.match(L0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uw(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var F0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tr(e){if(!F0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dw(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function Pf(e){return JSON.parse(JSON.stringify(e))}var nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j0=[502,503,504];async function fw(e){var t;if(!iw(e))throw new eo(nr(e),0);if(j0.includes(e.status))throw new eo(nr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Je(nr(i),i)}let r,o=cw(e);if(o&&o.getTime()>=Of["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ki(nr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new we}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new ki(nr(n),e.status,n.weak_password.reasons);throw new bc(nr(n),e.status||500,r)}var $0=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function C(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[xi]||(i[xi]=Of["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await U0(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function U0(e,t,n,r,o,i){let s=$0(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new eo(nr(c),0)}if(a.ok||await fw(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await fw(c)}}function Xe(e){var t;let n=null;B0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nw(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Lf(e){let t=Xe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function At(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hw(e){return{data:e,error:null}}function pw(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=mn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Ff(e){return e}function B0(e){return e.access_token&&e.refresh_token&&e.expires_in}var Nc=["global","local","others"];var to=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ac(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Nc[0]){if(Nc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nc.join(", ")}`);try{return await C(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await C(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:At})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=mn(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await C(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pw,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await C(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:At})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await C(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ff});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){tr(t);try{return await C(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:At})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){tr(t);try{return await C(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:At})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){tr(t);try{return await C(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:At})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){tr(t.userId);try{let{data:n,error:r}=await C(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _deleteFactor(t){tr(t.userId),tr(t.id);try{return{data:await C(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await C(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ff});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await C(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await C(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await C(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await C(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await C(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}};function jf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var rr={debug:!!(globalThis&&Tc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Li=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},xc=class extends Li{};async function $f(e,t,n){rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rr.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mw(e){return parseInt(e,16)}function vw(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function yw(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Uf(e.address),p=l?`${l}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let L=`
Resources:`;for(let b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);L+=`
- ${b}`}m+=L}return`${v}
${m}`}var te=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},or=class extends te{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function ww({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Bf(s)){if(i.rp.id!==s)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ew({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Bf(r)){if(n.rpId!==r)return new te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Vf=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},V0=new Vf;function _w(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=mn(e,["challenge","user","excludeCredentials"]),i=dn(t).buffer,s=Object.assign(Object.assign({},n),{id:dn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:dn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function bw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=mn(e,["challenge","allowCredentials"]),o=dn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:dn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Cw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Iw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vt(new Uint8Array(o.authenticatorData)),clientDataJSON:Vt(new Uint8Array(o.clientDataJSON)),signature:Vt(new Uint8Array(o.signature)),userHandle:o.userHandle?Vt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Dw(){var e,t;return!!(ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function H0(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new or("Browser returned unexpected credential type",t)}:{data:null,error:new or("Empty credential response",t)}}catch(t){return{data:null,error:ww({error:t,options:e})}}}async function z0(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new or("Browser returned unexpected credential type",t)}:{data:null,error:new or("Empty credential response",t)}}catch(t){return{data:null,error:Ew({error:t,options:e})}}}var q0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},G0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oc(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=Oc(a,s):r[i]=Oc(s)}else r[i]=s}return r}function W0(e,t){return Oc(q0,e,t||{})}function K0(e,t){return Oc(G0,e,t||{})}var kc=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:a};let c=o??V0.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=W0(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await H0({publicKey:u,signal:c});return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=K0(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await z0(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Je("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new ln("rpId is required for WebAuthn authentication")};try{if(!Dw())return{data:null,error:new Je("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Je("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new ln("rpId is required for WebAuthn registration")};try{if(!Dw())return{data:null,error:new Je("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Je("Unexpected error in register",s)}}}};gw();var Y0={url:zy,storageKey:qy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sw(e,t,n){return await n()}var no={},Z0=(()=>{class e{get jwks(){var n,r;return(r=(n=no[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=no[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},Y0),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ae()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new to({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ac(s.fetch),this.lock=s.lock||Sw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&ae()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=$f:this.lock=Sw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Tc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jf(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jf(this.memoryStorage)),ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ec}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(ae()&&(r=ow(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ae()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qy(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?this._returnResult({error:r}):this._returnResult({error:new Je("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xe}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(_(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await er(this.storage,this.storageKey)),s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Xe})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xe})}else throw new Yn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Lf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Lf})}else throw new Yn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new Bt;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(_(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:v,wallet:m,statement:L,options:b}=n,D;if(ae())if(typeof m=="object")D=m;else{let Mt=window;if("ethereum"in Mt&&typeof Mt.ethereum=="object"&&"request"in Mt.ethereum&&typeof Mt.ethereum.request=="function")D=Mt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=m}let B=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),pt=await D.request({method:"eth_requestAccounts"}).then(Mt=>Mt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pt||pt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let W=Uf(pt[0]),Q=(o=b?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Q){let Mt=await D.request({method:"eth_chainId"});Q=mw(Mt)}let Mw={domain:B.host,address:W,statement:L,uri:B.href,version:"1",chainId:Q,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=yw(Mw),g=await D.request({method:"personal_sign",params:[vw(p),W]})}try{let{data:v,error:m}=await C(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xe});if(m)throw m;if(!v||!v.session||!v.user){let L=new Bt;return this._returnResult({data:{user:null,session:null},error:L})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(_(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:m,wallet:L,statement:b,options:D}=n,B;if(ae())if(typeof L=="object")B=L;else{let W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=L}let pt=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){let W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:pt.host,uri:pt.href}),b?{statement:b}:null)),Q;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")Q=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)Q=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)g=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),v=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${pt.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${pt.href}`,`Issued At: ${(i=(o=D?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((h=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...D.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);let W=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=W}}try{let{data:m,error:L}=await C(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Vt(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xe});if(L)throw L;if(!m||!m.session||!m.user){let b=new Bt;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:L})}catch(m){if(_(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(n){let r=await fn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Cc;let{data:s,error:a}=await C(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Xe});if(await fe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Bt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xe}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new Bt;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(_(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await er(this.storage,this.storageKey));let{error:h}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new Yn("You must provide either an email or phone number.")}catch(c){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await C(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Xe});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(_(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await er(this.storage,this.storageKey));let l=await C(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:hw});return!((s=l.data)===null||s===void 0)&&s.url&&ae()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new we;let{error:i}=await C(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(_(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await C(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await C(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Yn("You must provide either an email or phone number and a type")}catch(r){if(_(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<_c:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await fn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Mc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=dw(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:At}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new we}:await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:At})})}catch(r){if(_(r))return Zy(r)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new we;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await er(this.storage,this.storageKey));let{data:l,error:d}=await C(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:At});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new we;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Rc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(_(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new we;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ae())throw new Zn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Zn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Oi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Oi("No code detected.");let{data:b,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;let B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Zn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:v,error:m}=await this._getUser(s);if(m)throw m;let L={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(o){if(_(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await fn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Yy(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=rw(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await er(this.storage,this.storageKey,!0));try{return await C(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await C(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ae()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(_(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Xe}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Bt}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),_(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await C(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await aw(async i=>(i>0&&await sw(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await C(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Xe})),(i,s)=>{let a=200*Math.pow(2,i);return s&&Ic(s)&&Date.now()+a-o<Kn})}catch(o){if(this._debug(r,"error",o),_(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ae()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await fn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Xn(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Mc()}else if(i&&!i.user&&!i.user){let a=await fn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await fe(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,i)):i.user=Mc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_c;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${_c}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ic(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new we;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pi;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new we;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),_(s)){let a={data:null,error:s};return Ic(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=Pf(i);await Xn(this.storage,this.storageKey,s)}else{let i=Pf(r);await Xn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ae()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Kn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Kn}ms, refresh threshold is ${Dc} ticks`),i<=Dc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Li)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ae()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await er(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await C(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await C(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Cw(n.webauthn.credential_response):Iw(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await C(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await C(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:_w(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bw(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Rc(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await C(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new we})})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new we});let a=await C(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ae()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new we});let a=await C(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ae()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await C(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new we})})}catch(n){if(_(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await C(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new we})})}catch(r){if(_(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Ky>i)return o;let{data:s,error:a}=await C(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Rc(o);r?.allowExpired||uw(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=lw(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,tw(`${c}.${u}`)))throw new Qn("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(_(o))return this._returnResult({data:null,error:o});throw o}}}return e.nextInstanceID={},e})(),Hf=Z0;var Q0=Hf,zf=Q0;var J0="2.89.0",Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";var X0={"X-Client-Info":`supabase-js-${Fi}/${J0}`},eA={headers:X0},tA={schema:"public"},nA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rA={};function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function oA(e,t){if(ji(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iA(e){var t=oA(e,"string");return ji(t)=="symbol"?t:t+""}function sA(e,t,n){return(t=iA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(n),!0).forEach(function(r){sA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cA=()=>Headers,uA=(e,t,n)=>{let r=aA(n),o=cA();return async(i,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,ne(ne({},s),{},{headers:u}))}};function lA(e){return e.endsWith("/")?e:e+"/"}function dA(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:ne(ne({},c),o),auth:ne(ne({},u),i),realtime:ne(ne({},l),s),storage:{},global:ne(ne(ne({},d),a),{},{headers:ne(ne({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function fA(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hA=class extends zf{constructor(e){super(e)}},pA=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;let i=fA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);let s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:tA,realtime:rA,auth:ne(ne({},nA),{},{storageKey:s}),global:eA},c=dA(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(l,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=uA(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(l=>this.realtime.setAuth(l)).catch(l=>console.warn("Failed to set initial Realtime auth token:",l)),this.rest=new Ty(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Hy(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new _i(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:c,throwOnError:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hA({url:this.authUrl.href,headers:ne(ne({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ti(this.realtimeUrl.href,ne(ne({},e),{},{params:ne(ne({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},Aw=(e,t,n)=>new pA(e,t,n);function gA(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gA()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Pc="https://bpdkltgikgbnfjswdbaj.supabase.co",Lc="sb_publishable_17VL78hCv9BVez2c4lIqFQ_MUv1iOHb";console.log("[Supabase] URL present?",!!Pc,"len=",(Pc??"").length);console.log("[Supabase] ANON present?",!!Lc,"len=",(Lc??"").length);function mA(e=12e3){return async(t,n)=>{let r=new AbortController,o=setTimeout(()=>r.abort(),e);try{return await fetch(t,K(w({},n),{signal:r.signal}))}finally{clearTimeout(o)}}}var Rt=Aw(Pc,Lc,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:mA(12e3)}});var Rw=class e{async login(t,n){let{error:r}=await Rt.auth.signInWithPassword({email:t,password:n});if(r)throw r}async register(t,n){let{data:r,error:o}=await Rt.auth.signUp({email:t,password:n});if(o){let a=o?.message??String(o);if(/already|registered|exists|EMAIL_EXISTS|user_already_exists|email_exists/i.test(a))return{isExistingEmail:!0,needsEmailConfirm:!1};throw o}let i=r.user?.identities;return r.user&&Array.isArray(i)&&i.length===0?{isExistingEmail:!0,needsEmailConfirm:!1}:{isExistingEmail:!1,needsEmailConfirm:!r.session}}async logout(){let{error:t}=await Rt.auth.signOut();if(t)throw t}async getUser(){let{data:t,error:n}=await Rt.auth.getUser();return n?null:t.user??null}async getAccessToken(){let{data:t}=await Rt.auth.getSession();return t.session?.access_token??null}async resetPassword(t){let n=`${window.location.origin}/reset-password`,{error:r}=await Rt.auth.resetPasswordForEmail(t,{redirectTo:n});if(r)throw r}async prepareResetSession(){try{if((await Rt.auth.getSession()).data.session)return{ok:!0};let n=window.location.href;if(/[?&]code=/.test(n)){let{data:o,error:i}=await Rt.auth.exchangeCodeForSession(n);if(i)return{ok:!1,reason:i?.message??String(i)};if(o.session)return{ok:!0}}return{ok:!1,reason:"Reset session not ready."}}catch(t){return{ok:!1,reason:t?.message??String(t)}}}async updatePassword(t){let{error:n}=await Rt.auth.updateUser({password:t});if(n){let r=n?.message??String(n);throw/issued in the future|clock|skew/i.test(r)?new Error("Your device clock looks incorrect. Please enable automatic time + time zone in Windows, sync the clock, then reopen the reset link."):n}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};export{w as a,K as b,vA as c,yA as d,De as e,ce as f,J as g,hE as h,E as i,bs as j,I as k,gr as l,T as m,O as n,y as o,ep as p,tp as q,mp as r,On as s,Re as t,Pe as u,Cr as v,bt as w,sa as x,aa as y,zl as z,UD as A,n_ as B,kg as C,em as D,ye as E,gd as F,zo as G,nn as H,fm as I,hm as J,Or as K,kr as L,ym as M,wm as N,_d as O,bd as P,_a as Q,Em as R,Dm as S,bm as T,Cm as U,Jb as V,Sm as W,rC as X,oC as Y,Am as Z,Rm as _,EC as $,xm as aa,Cd as ba,Om as ca,Pm as da,bC as ea,Lm as fa,CC as ga,AC as ha,NC as ia,OC as ja,PC as ka,FC as la,Nd as ma,cI as na,Pt as oa,hv as pa,SI as qa,pv as ra,TI as sa,MI as ta,vv as ua,HI as va,cn as wa,lf as xa,hc as ya,MT as za,Rt as Aa,Rw as Ba};
