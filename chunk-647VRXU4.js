import{a as u}from"./chunk-57X26VKZ.js";import"./chunk-LJDR2ADK.js";import"./chunk-7DJA5TI4.js";import"./chunk-AFJFBD4M.js";import"./chunk-LQQHCQP3.js";import{c as g}from"./chunk-KO5X6LCN.js";import{D as p,Da as d,G as r,H as c,Ia as l,T as n,U as o,fa as a,ga as m}from"./chunk-SPQ2JWKS.js";import"./chunk-2NFLSA4Y.js";var f=class s{constructor(t,e,i){this.auth=t;this.profiles=e;this.router=i}status="Resolving slug...";async ngOnInit(){try{let e=(await this.auth.getUser())?.id;if(!e){this.status="Not authenticated. Redirecting to login...",await this.router.navigateByUrl("/auth");return}let{meProfile:i}=await this.profiles.meProfile(),v=i?.username?.trim()||e;await this.router.navigate(["/user",v])}catch(t){this.status=t?.message??String(t)}}static \u0275fac=function(e){return new(e||s)(r(g),r(u),r(l))};static \u0275cmp=c({type:s,selectors:[["app-me-page"]],decls:6,vars:1,consts:[[1,"redirect"],[1,"card"],[1,"title"],[1,"sub"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),a(3,"Loading your profile..."),o(),n(4,"div",3),a(5),o()()()),e&2&&(p(5),m(i.status))},dependencies:[d],styles:["[_nghost-%COMP%], .redirect[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;background:radial-gradient(1100px 800px at 50% 30%,rgba(0,255,209,.12),transparent 60%),radial-gradient(900px 700px at 60% 70%,rgba(140,0,255,.1),transparent 55%),#06080eeb;color:#ffffffdb}.card[_ngcontent-%COMP%]{border-radius:24px;padding:20px;background:#0a0c14a6;border:1px solid rgba(255,255,255,.12);box-shadow:0 30px 90px #00000073;text-align:center;width:min(420px,90vw)}.title[_ngcontent-%COMP%]{font-weight:900;letter-spacing:.08em;margin-bottom:6px}.sub[_ngcontent-%COMP%]{font-size:13px;opacity:.75}"]})};export{f as MePageComponent};
