import{a as M,b as S,e as E,m as O,o as k}from"./chunk-KSNNJYBO.js";import{c as x}from"./chunk-KO5X6LCN.js";import{D as r,Da as C,G as p,H as f,Ia as _,L as w,P as l,Q as o,R as n,Z as b,_ as h,fa as s,ga as y,ha as P,ja as g,ka as c,la as m,ya as v}from"./chunk-SPQ2JWKS.js";import"./chunk-2NFLSA4Y.js";function I(d,e){if(d&1&&(o(0,"div",9),s(1),n()),d&2){let i=h();r(),y(i.msg)}}var R=class d{constructor(e,i){this.auth=e;this.router=i}password="";password2="";busy=!1;msg="";async save(){this.msg="",this.busy=!0;try{let e=this.password.trim(),i=this.password2.trim();if(e.length<6)throw new Error("Password must be at least 6 characters.");if(e!==i)throw new Error("Passwords do not match.");await this.auth.updatePassword(e),this.msg="Password updated. You can login now.",await this.router.navigateByUrl("/auth")}catch(e){this.msg=e?.message??String(e)}finally{this.busy=!1}}static \u0275fac=function(i){return new(i||d)(p(x),p(_))};static \u0275cmp=f({type:d,selectors:[["app-reset-password-page"]],decls:18,vars:5,consts:[[1,"wrap"],[1,"card"],[1,"title"],[1,"sub"],[1,"field"],["type","password","minlength","6","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],[1,"row"],[1,"btn",3,"click","disabled"],["class","msg",4,"ngIf"],[1,"msg"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),s(3,"Reset your password"),n(),o(4,"div",3),s(5,"Enter a new password for your account."),n(),o(6,"div",4)(7,"label"),s(8,"New password"),n(),o(9,"input",5),m("ngModelChange",function(a){return c(t.password,a)||(t.password=a),a}),n()(),o(10,"div",4)(11,"label"),s(12,"Confirm new password"),n(),o(13,"input",5),m("ngModelChange",function(a){return c(t.password2,a)||(t.password2=a),a}),n()(),o(14,"div",6)(15,"button",7),b("click",function(){return t.save()}),s(16),n(),w(17,I,2,1,"div",8),n()()()),i&2&&(r(9),g("ngModel",t.password),r(4),g("ngModel",t.password2),r(2),l("disabled",t.busy),r(),P(" ",t.busy?"Saving\u2026":"Save"," "),r(),l("ngIf",t.msg))},dependencies:[C,v,k,M,S,O,E],styles:["[_nghost-%COMP%]{display:block;height:100vh}.wrap[_ngcontent-%COMP%]{height:100vh;display:grid;place-items:center;background:radial-gradient(1200px 800px at 50% 30%,rgba(0,255,209,.1),transparent 60%),#06080ef2;color:#ffffffeb}.card[_ngcontent-%COMP%]{width:min(560px,92vw);border-radius:24px;padding:18px;background:#0a0c1499;border:1px solid rgba(0,255,209,.2);box-shadow:0 30px 90px #00000073;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.title[_ngcontent-%COMP%]{font-weight:900;letter-spacing:.08em}.sub[_ngcontent-%COMP%]{margin-top:6px;opacity:.7;font-size:13px}.field[_ngcontent-%COMP%]{margin-top:14px;display:grid;gap:8px}label[_ngcontent-%COMP%]{font-size:12px;opacity:.7;letter-spacing:.12em}input[_ngcontent-%COMP%]{padding:12px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:#00000047;color:#ffffffeb;outline:none}.row[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:12px;align-items:center}.btn[_ngcontent-%COMP%]{border:0;border-radius:16px;padding:12px 14px;cursor:pointer;background:linear-gradient(90deg,#00ffd1d9,#8c00ffbf);color:#06080ef5;font-weight:900;letter-spacing:.12em}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.msg[_ngcontent-%COMP%]{font-size:13px;opacity:.85}"]})};export{R as ResetPasswordPageComponent};
